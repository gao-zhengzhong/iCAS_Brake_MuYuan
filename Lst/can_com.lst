C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 1   


C166 COMPILER V7.57.0, COMPILATION OF MODULE CAN_COM
OBJECT MODULE PLACED IN .\Obj\can_com.obj
COMPILER INVOKED BY: C:\Keil_v5\C166\BIN\C166.EXE src\app\can\can_com.c MODV2 LARGE BROWSE INCDIR(.\src;.\src\bsw;.\src\
                    -driver;.\src\interaction;.\src\app\adc;.\src\app\alogrithm;.\src\app\can;.\src\app\ccp;.\src\app\diagnostic;.\src\app\mo
                    -de control;.\src\app\task;.\src\app\Fun;.\src\app\rtos;.\src\bsw\can;.\src\bsw\desc;.\src\bsw\nm;.\src\app\time measure;
                    -.\src\app\rte) MODV2 DEBUG PRINT(.\Lst\can_com.lst) OBJECT(.\Obj\can_com.obj) 

 stmt lvl     source

    1         /***********************************************************************
    2         *   Copyright (C) JWD Automotive Co., Ltd.                                             * 
    3         *       All Rights Reserved.                                                                   *
    4         *   Department : iCAS SW                                                                               *
    5         *   AUTHOR         :                                                                                               *
    6         ************************************************************************
    7         * Object        : 
    8         * Module        : can_com.c
    9         * Instance      : 
   10         * Description   : can communication
   11         *-----------------------------------------------------------------------
   12         * Version: v0.1
   13         * Date   : Dec 11,2019 
   14         * Author : Gao zehngzhong
   15         ***********************************************************************/
   16         /*-History--------------------------------------------------------------
   17         * Version    Date           Name            Changes and comments
   18         ------------------------------------------------------------------------
   19         * 0.1          Dec 11,2019     Gao Zhengzhong  Initial version
   20         *=====================================================================*/
   21         #include <string.h>
   22         
   23         #define  CAN_COM_GLOBALS
   24         #include "can_com.h"
   25         
   26         #include "pid.h"
   27         #include "Booster.h"
   28         #include "adc_sample.h"
   29         #include "pwm.h"
   30         #include "can_if.h"
   31         
   32         #include "can_diag.h"
   33         #include "ccp_if.h"
   34         #include "desc.h"
   35         #include "desc_ser.h"
   36         #include "RTC.h"
   37         #include "rte.h"
   38         #include "FLTD.h"
   39         #include "energy_recovery.h"
   40         
   41         /**** Definition of variables ****/
   42         static INT32U uCanComTaskCount = 0;
   43         static T_CAN_COM t_CanComData = {0};
   44         
   45         static BOOLEAN descDataSendFlag = FALSE;
   46         static INT16U descDataSendLength = 0u;
   47         
   48         /**** Declaration of functions ****/
   49         static void Can0RecDeal_v_g(void);
   50         static void Can1RecDeal_v_g(void);
   51         static void Can0TrsDeal_v_g(void);
   52         static void Can1TrsDeal_v_g(void);
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 2   

   53                 
   54         /********************************  CAN0  Table of service (instance) relevant information. ***************
             -**************/
   55         static CanSvcInst g_Can0SvcInst[] = 
   56         {
   57         // /*Obj Index*/  /*ID Type*/ /*ID*/ /* DLC*/ /*cycle*/  /*Timeout cnt*/  /*Receive message Ind*/   /*Rece
             -ive timeout Ind*/
   58         
   59                 { 0u,  STANDARD_ID, 0x733, 8u, 0u, 10u, CanCom_DescPhyAddrMsgInd, Can0Com_Object0_MsgTimeoutInd }, //UDS 
             -physic address
   60                 { 1u,  STANDARD_ID, 0x7DF, 8u, 0u, 10u, CanCom_DescFunAddrMsgInd, Can0Com_Object1_MsgTimeoutInd }, //UDS 
             -function address
   61                 { 2u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object2_MsgInd, Can0Com_Object2_MsgTimeoutInd },        
   62                 { 3u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object3_MsgInd, Can0Com_Object3_MsgTimeoutInd },
   63                 
   64                 { 4u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object4_MsgInd, Can0Com_Object4_MsgTimeoutInd },
   65                 { 5u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object5_MsgInd, Can0Com_Object5_MsgTimeoutInd },                
   66                 { 6u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object6_MsgInd, Can0Com_Object6_MsgTimeoutInd },
   67                 { 7u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object7_MsgInd, Can0Com_Object7_MsgTimeoutInd },
   68                 
   69                 { 8u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object8_MsgInd, Can0Com_Object8_MsgTimeoutInd },
   70                 { 9u,  STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object9_MsgInd, Can0Com_Object9_MsgTimeoutInd },
   71                 { 10u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object10_MsgInd, Can0Com_Object10_MsgTimeoutInd },              
   72                 { 11u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object11_MsgInd, Can0Com_Object11_MsgTimeoutInd },
   73                 
   74                 { 12u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object12_MsgInd, Can0Com_Object12_MsgTimeoutInd },
   75                 { 13u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object13_MsgInd, Can0Com_Object13_MsgTimeoutInd },
   76                 { 14u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object14_MsgInd, Can0Com_Object14_MsgTimeoutInd },
   77                 { 15u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can0Com_Object15_MsgInd, Can0Com_Object15_MsgTimeoutInd },
   78                 
   79                 /* If more than 16 CAN ID are received, the extra ID are received by using object 15 */
   80         };
   81         
   82         static CanSendInst g_Can0SendInst[] = 
   83         {
   84         // /*Obj Index*/  /*ID TYPE*/  /*ID*/ /* DLC*/  /*send message Ind*/
   85                 
   86                 { 16u, STANDARD_ID, 0x73B ,8u, Can0Com_Object16_MsgSend }, // Do not modify. use for UDS response
   87                 { 17u, STANDARD_ID, 0x666 ,8u, Can0Com_Object17_MsgSend }, //used for pv test
   88                 { 18u, STANDARD_ID, 0x081 ,8u, Can0Com_Object18_MsgSend }, //ICAS-AEB system factor,include padeltravel、
             -cylindertravel、motorcurrnt、pressure
   89                 { 19u, STANDARD_ID, 0x082 ,8u, Can0Com_Object19_MsgSend }, //LocationLoopControl,include objcylinder \act
             -ualcylinder\CurrentForwardBack\CurrentIncrement
   90                 { 20u, STANDARD_ID, 0x083 ,8u, Can0Com_Object20_MsgSend }, //LocationLoopControl,include locationKP\locat
             -ionKI\locationKD
   91                 { 21u, STANDARD_ID, 0x084 ,8u, Can0Com_Object21_MsgSend }, //CurrentLoopControl,include objcurrent\actual
             -current\PWMforward\PWMincrement
   92                 { 22u, STANDARD_ID, 0x085 ,8u, Can0Com_Object22_MsgSend }, //CurrentLoopControl,include currentKP\current
             -KI\currentKD 
   93                 { 23u, STANDARD_ID, 0x093 ,8u, Can0Com_Object23_MsgSend }, 
   94                 { 24u, STANDARD_ID, 0x094 ,8u, Can0Com_Object24_MsgSend }, 
   95                 
   96                 { 25u, STANDARD_ID, 0x090 ,8u, Can0Com_Object25_MsgSend },                                                      
   97                 { 26u, STANDARD_ID, 0x091 ,8u, Can0Com_Object26_MsgSend },
   98                 { 27u, STANDARD_ID, 0x092 ,8u, Can0Com_Object27_MsgSend },
   99                 { 28u, STANDARD_ID, 0x088 ,8u, Can0Com_Object28_MsgSend },
  100                 { 29u, STANDARD_ID, 0x089 ,8u, Can0Com_Object29_MsgSend },
  101                 { 30u, STANDARD_ID, 0x000 ,8u, Can0Com_Object30_MsgSend },
  102                 { 31u, STANDARD_ID, 0x000 ,8u, Can0Com_Object31_MsgSend },
  103          
  104         };
  105         
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 3   

  106         
  107         /********************************  CAN1  Table of service (instance) relevant information. ***************
             -**************/
  108         
  109         static CanSvcInst g_Can1SvcInst[] = 
  110         {
  111         // /*Obj Index*/  /*ID Type*/ /*ID*/ /* DLC*/ /*cycle*/  /*Timeout cnt*/  /*Receive message Ind*/  /*Recei
             -ve timeout Ind*/
  112                 
  113                 { 32u, STANDARD_ID, 0x733, 8u, 0u, 10u, CanCom_DescPhyAddrMsgInd, Can1Com_Object32_MsgTimeoutInd }, //UDS
             - physic address
  114                 { 33u, STANDARD_ID, 0x7DF, 8u, 0u, 10u, CanCom_DescFunAddrMsgInd, Can1Com_Object33_MsgTimeoutInd }, //UDS
             - function address
  115                 { 34u, STANDARD_ID, 0x6F0, 8u, 10u, 10u, Can1Com_Object34_MsgInd, Can1Com_Object34_MsgTimeoutInd }, //Can
             -Com_CcpMsgInd
  116                 { 35u, STANDARD_ID, 0x715, 8u, 20u, 10u, Can1Com_Object35_MsgInd, Can1Com_Object35_MsgTimeoutInd }, //Use
             -d for wireControl
  117                 
  118                 { 36u, STANDARD_ID, 0x202, 8u, 10u, 25u, Can1Com_Object36_MsgInd, Can1Com_Object36_MsgTimeoutInd },
  119                 { 37u, STANDARD_ID, 0x0F2, 8u, 10u, 10u, Can1Com_Object37_MsgInd, Can1Com_Object37_MsgTimeoutInd },
  120                 { 38u, STANDARD_ID, 0x101, 8u, 10u, 25u, Can1Com_Object38_MsgInd, Can1Com_Object38_MsgTimeoutInd },
  121                 { 39u, STANDARD_ID, 0x454, 8u, 100u, 5u, Can1Com_Object39_MsgInd, Can1Com_Object39_MsgTimeoutInd },
  122                 
  123                 { 40u, STANDARD_ID, 0x505, 8u,  10u,25u, Can1Com_Object40_MsgInd, Can1Com_Object40_MsgTimeoutInd },
  124                 { 41u, STANDARD_ID, 0x206, 8u, 100u, 5u, Can1Com_Object41_MsgInd, Can1Com_Object41_MsgTimeoutInd },
  125                 { 42u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object42_MsgInd, Can1Com_Object42_MsgTimeoutInd },
  126                 { 43u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object43_MsgInd, Can1Com_Object43_MsgTimeoutInd },
  127                 
  128                 { 44u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object44_MsgInd, Can1Com_Object44_MsgTimeoutInd },
  129                 { 45u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object45_MsgInd, Can1Com_Object45_MsgTimeoutInd },
  130                 { 46u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object46_MsgInd, Can1Com_Object46_MsgTimeoutInd },
  131                 { 47u, STANDARD_ID, 0x000, 8u, 0u, 10u, Can1Com_Object47_MsgInd, Can1Com_Object47_MsgTimeoutInd }
  132                 
  133                 /* If more than 16 CAN ID are received, the extra ID are received by using object 47 */
  134         };
  135         
  136         static CanSendInst g_Can1SendInst[] = 
  137         {
  138         // /*Obj Index*/  /*ID TYPE*/  /*ID*/ /* DLC*/  /*send message Ind*/
  139                 
  140                 { 48u, STANDARD_ID, 0x73B ,8u, Can1Com_Object48_MsgSend }, /* Do not modify. use for UDS response */
  141                 { 49u, STANDARD_ID, 0x6F1 ,8u, Can1Com_Object49_MsgSend }, /* Do not modify. use for ccp */
  142                 { 50u, STANDARD_ID, 0x240 ,8u, Can1Com_Object50_MsgSend },
  143                 { 51u, STANDARD_ID, 0x711 ,8u, Can1Com_Object51_MsgSend },
  144                 
  145                 { 52u, STANDARD_ID, 0x000 ,8u, Can1Com_Object52_MsgSend },
  146                 { 53u, STANDARD_ID, 0x000 ,8u, Can1Com_Object53_MsgSend },
  147                 { 54u, STANDARD_ID, 0x000 ,8u, Can1Com_Object54_MsgSend },
  148                 { 55u, STANDARD_ID, 0x000 ,8u, Can1Com_Object55_MsgSend },
  149                 
  150                 { 56u, STANDARD_ID, 0x000 ,8u, Can1Com_Object56_MsgSend },
  151                 { 57u, STANDARD_ID, 0x000 ,8u, Can1Com_Object57_MsgSend },
  152                 { 58u, STANDARD_ID, 0x000 ,8u, Can1Com_Object58_MsgSend },
  153                 { 59u, STANDARD_ID, 0x000 ,8u, Can1Com_Object59_MsgSend },
  154                 
  155                 { 60u, STANDARD_ID, 0x000 ,8u, Can1Com_Object60_MsgSend },
  156                 { 61u, STANDARD_ID, 0x000 ,8u, Can1Com_Object61_MsgSend },
  157                 { 62u, STANDARD_ID, 0x000 ,8u, Can1Com_Object62_MsgSend },
  158                 { 63u, STANDARD_ID, 0x000 ,8u, Can1Com_Object63_MsgSend },
  159         };
  160         
  161         
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 4   

  162         /*****************************************************************************************
  163         *  Name        : CanCom_vInit
  164         *  Description : none
  165         *  Parameter   : none
  166         *  Returns     : none 
  167         *****************************************************************************************/
  168         void CanCom_vInit(void)
  169         {
  170  1              kCan0SvcInstNumItems = (sizeof(g_Can0SvcInst) / sizeof(CanSvcInst));
  171  1              kCan0SendInstNumItems = (sizeof(g_Can0SendInst) / sizeof(CanSendInst));
  172  1              kCan1SvcInstNumItems = (sizeof(g_Can1SvcInst) / sizeof(CanSvcInst));
  173  1              kCan1SendInstNumItems = (sizeof(g_Can1SendInst) / sizeof(CanSendInst));
  174  1              
  175  1              memset(&t_CanComData, 0, sizeof(t_CanComData));
  176  1      }
  177         
  178         /*****************************************************************************************
  179         *  Name        : CanCom_TaskEntry
  180         *  Description : none
  181         *  Parameter   : none
  182         *  Returns     : none 
  183         *****************************************************************************************/
  184         static INT8U reqDiagDataLen = 0;   // used for diagnostic to receive more frames
  185         static INT8U rcvDataIndex = 0;
  186         static INT8U rcvDiagData[64];
  187         static INT8U rcvDataTimeout = 0;
  188         void CanCom_TaskEntry(void)
  189         {
  190  1              if (FALSE == CanDiag_ComVoltageAbnormalStatus())        
  191  1              {
  192  2                      uCanComTaskCount++;
  193  2                      
  194  2                      Can0RecDeal_v_g();
  195  2                      Can1RecDeal_v_g();
  196  2                      Can0TrsDeal_v_g();
  197  2                      Can1TrsDeal_v_g();
  198  2              }
  199  1              
  200  1              rcvDataTimeout++;
  201  1              if(rcvDataTimeout >= 20u)
  202  1              {
  203  2                      rcvDataTimeout = 20u;
  204  2                      reqDiagDataLen = 0;
  205  2                      rcvDataIndex = 0;
  206  2                      memset(rcvDiagData, 0, 64);
  207  2              }
  208  1      }
  209         
  210         
  211         
  212         /*****************************************************************************************
  213         *  Name        : Can0TrsDeal_v_g
  214         *  Description : none
  215         *  Parameter   : none
  216         *  Returns     : none 
  217         *****************************************************************************************/
  218         static void Can0TrsDeal_v_g(void)
  219         {
  220  1      #if 0 // polyspace test by gzz 2020.12.30
                      if (0u == (uCanComTaskCount % 1u)) // 5ms cycle
                      {
                              
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 5   

                      }
              #endif
  226  1      
  227  1              if (0u == (uCanComTaskCount % 2u)) // 10ms cycle
  228  1              {       
  229  2      #if (0 == DIAGNOSTIC_MESSAGE)
                              Can0Com_Object16_MsgSend();
              #endif
  232  2                      
  233  2                      if(TRUE == g_pvTestFlag)
  234  2                      {
  235  3                              Can0Com_Object17_MsgSend();
  236  3                      }
  237  2                      else
  238  2                      {
  239  3                              
  240  3                              Can0Com_Object18_MsgSend();//ICAS-AEB system factor,include padeltravel、cylindertravel、motorcurrnt、p
             -ressure        
  241  3                              Can0Com_Object19_MsgSend(); //LocationLoopControl,include objcylinder \actualcylinder\CurrentForwardBac
             -k\CurrentIncrement 
  242  3                              Can0Com_Object20_MsgSend(); //LocationLoopControl,include locationKP\locationKI\locationKD
  243  3                              Can0Com_Object21_MsgSend(); //CurrentLoopControl,include objcurrent\actualcurrent\PWMforward\PWMincreme
             -nt
  244  3                              Can0Com_Object22_MsgSend(); //CurrentLoopControl,include currentKP\currentKI\currentKD  
  245  3                              Can0Com_Object23_MsgSend(); //Only LocationLoopControl,include objOnlyLocation\actualOnlyLocation\PWMin
             -crement\OnlyLocationKP
  246  3                              Can0Com_Object24_MsgSend(); //Only LocationLoopControl,include OnlyLocationKI\OnlyLocationKD
  247  3                              Can0Com_Object25_MsgSend();
  248  3                              Can0Com_Object26_MsgSend();
  249  3                              Can0Com_Object27_MsgSend();
  250  3                              Can0Com_Object28_MsgSend();
  251  3                              Can0Com_Object29_MsgSend();             
  252  3                              /**/
  253  3                      } 
  254  2      
  255  2                      //Can0Com_Object28_MsgSend();
  256  2                      //Can0Com_Object29_MsgSend();
  257  2                      //Can0Com_Object30_MsgSend();
  258  2                      //Can0Com_Object31_MsgSend();
  259  2      
  260  2              }
  261  1      
  262  1              if (0u == (uCanComTaskCount % 4u)) // 20ms cycle
  263  1              {
  264  2      
  265  2              }
  266  1      
  267  1              if (0u == (uCanComTaskCount % 10u)) // 50ms cycle
  268  1              {
  269  2                      
  270  2              }
  271  1      
  272  1              if (0u == (uCanComTaskCount % 20u)) // 100ms cycle
  273  1              {
  274  2      
  275  2              }
  276  1      
  277  1              if (0u == (uCanComTaskCount % 200u)) // 1000ms cycle
  278  1              {
  279  2                      
  280  2              }
  281  1      }
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 6   

  282         
  283         /*****************************************************************************************
  284         *  Name        : Can1TrsDeal_v_g
  285         *  Description : none
  286         *  Parameter   : none
  287         *  Returns     : none 
  288         *****************************************************************************************/
  289         static void Can1TrsDeal_v_g(void)
  290         {
  291  1              if (0u == (uCanComTaskCount % 2u)) // 10ms cycle
  292  1              {
  293  2      #if (1 == DIAGNOSTIC_MESSAGE)
  294  2                      Can1Com_Object48_MsgSend();     //use for UDS response
  295  2      #endif
  296  2                      
  297  2                        
  298  2                      
  299  2                      Can1Com_Object51_MsgSend();
  300  2              }
  301  1      
  302  1              if (0u == (uCanComTaskCount % 4u)) // 20ms cycle
  303  1              {
  304  2      
  305  2              /*
  306  2                      //Can1Com_Object49_MsgSend();
  307  2                      Can1Com_Object50_MsgSend();
  308  2                      Can1Com_Object52_MsgSend();
  309  2                      Can1Com_Object53_MsgSend();
  310  2                      Can1Com_Object54_MsgSend();
  311  2                      Can1Com_Object55_MsgSend();
  312  2                      Can1Com_Object56_MsgSend();
  313  2                      Can1Com_Object57_MsgSend();
  314  2                      Can1Com_Object58_MsgSend();
  315  2                      Can1Com_Object59_MsgSend();
  316  2                      Can1Com_Object60_MsgSend();
  317  2                      Can1Com_Object61_MsgSend();
  318  2                      Can1Com_Object62_MsgSend();
  319  2                      Can1Com_Object63_MsgSend();
  320  2              */      
  321  2              }
  322  1      
  323  1              if (0u == (uCanComTaskCount % 10u)) // 50ms cycle
  324  1              {
  325  2                      
  326  2              }
  327  1      
  328  1              if (0u == (uCanComTaskCount % 20u)) // 100ms cycle
  329  1              {
  330  2                      
  331  2              }       
  332  1      
  333  1              if (0u == (uCanComTaskCount % 200u)) // 1000ms cycle
  334  1              {
  335  2                      
  336  2              }       
  337  1      }
  338         
  339         
  340         
  341         /*****************************************************************************************
  342         *  Name        : Can0Com_Object0_MsgInd
  343         *  Description : receive message indication  
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 7   

  344         *  Parameter   : none
  345         *  Returns     : none 
  346         *****************************************************************************************/
  347         void Can0Com_Object0_MsgInd(CanReceiveHandle* rcvObject)
  348         {                       
  349  1      
  350  1      }
*** WARNING C47 IN LINE 347 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  351         void Can0Com_Object0_MsgTimeoutInd(void)
  352         {                       
  353  1      
  354  1      }
  355         
  356         /*****************************************************************************************
  357         *  Name        : Can0Com_Object1_MsgInd
  358         *  Description : receive message indication  
  359         *  Parameter   : none
  360         *  Returns     : none 
  361         *****************************************************************************************/
  362         void Can0Com_Object1_MsgInd(CanReceiveHandle* rcvObject)
  363         {                       
  364  1      
  365  1      }
*** WARNING C47 IN LINE 362 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  366         void Can0Com_Object1_MsgTimeoutInd(void)
  367         {                       
  368  1      
  369  1      }
  370         
  371         /*****************************************************************************************
  372         *  Name        : Can0Com_Object2_MsgInd
  373         *  Description : receive message indication  
  374         *  Parameter   : none
  375         *  Returns     : none 
  376         *****************************************************************************************/
  377         void Can0Com_Object2_MsgInd(CanReceiveHandle* rcvObject)
  378         {                       
  379  1      
  380  1      }
*** WARNING C47 IN LINE 377 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  381         void Can0Com_Object2_MsgTimeoutInd(void)
  382         {                       
  383  1      
  384  1      }
  385         
  386         /*****************************************************************************************
  387         *  Name        : Can0Com_Object3_MsgInd
  388         *  Description : receive message indication  
  389         *  Parameter   : none
  390         *  Returns     : none 
  391         *****************************************************************************************/
  392         void Can0Com_Object3_MsgInd(CanReceiveHandle* rcvObject)
  393         {                       
  394  1      
  395  1      }
*** WARNING C47 IN LINE 392 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  396         void Can0Com_Object3_MsgTimeoutInd(void)
  397         {                       
  398  1      
  399  1      }
  400         
  401         /*****************************************************************************************
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 8   

  402         *  Name        : Can0Com_Object4_MsgInd
  403         *  Description : receive message indication  
  404         *  Parameter   : none
  405         *  Returns     : none 
  406         *****************************************************************************************/
  407         void Can0Com_Object4_MsgInd(CanReceiveHandle* rcvObject)
  408         {                       
  409  1      
  410  1      }
*** WARNING C47 IN LINE 407 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  411         void Can0Com_Object4_MsgTimeoutInd(void)
  412         {                       
  413  1      
  414  1      }
  415         
  416         /*****************************************************************************************
  417         *  Name        : Can0Com_Object5_MsgInd
  418         *  Description : receive message indication  
  419         *  Parameter   : none
  420         *  Returns     : none 
  421         *****************************************************************************************/
  422         void Can0Com_Object5_MsgInd(CanReceiveHandle* rcvObject)
  423         {                       
  424  1      
  425  1      }
*** WARNING C47 IN LINE 422 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  426         void Can0Com_Object5_MsgTimeoutInd(void)
  427         {                       
  428  1      
  429  1      }
  430         
  431         /*****************************************************************************************
  432         *  Name        : Can0Com_Object6_MsgInd
  433         *  Description : receive message indication  
  434         *  Parameter   : none
  435         *  Returns     : none 
  436         *****************************************************************************************/
  437         void Can0Com_Object6_MsgInd(CanReceiveHandle* rcvObject)
  438         {                       
  439  1      
  440  1      }
*** WARNING C47 IN LINE 437 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  441         void Can0Com_Object6_MsgTimeoutInd(void)
  442         {                       
  443  1      
  444  1      }
  445         
  446         /*****************************************************************************************
  447         *  Name        : Can0Com_Object7_MsgInd
  448         *  Description : receive message indication  
  449         *  Parameter   : none
  450         *  Returns     : none 
  451         *****************************************************************************************/
  452         void Can0Com_Object7_MsgInd(CanReceiveHandle* rcvObject)
  453         {                       
  454  1      
  455  1      }
*** WARNING C47 IN LINE 452 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  456         void Can0Com_Object7_MsgTimeoutInd(void)
  457         {                       
  458  1      
  459  1      }
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 9   

  460         
  461         /*****************************************************************************************
  462         *  Name        : Can0Com_Object8_MsgInd
  463         *  Description : receive message indication  
  464         *  Parameter   : none
  465         *  Returns     : none 
  466         *****************************************************************************************/
  467         void Can0Com_Object8_MsgInd(CanReceiveHandle* rcvObject)
  468         {                       
  469  1      
  470  1      }
*** WARNING C47 IN LINE 467 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  471         void Can0Com_Object8_MsgTimeoutInd(void)
  472         {                       
  473  1      
  474  1      }
  475         
  476         /*****************************************************************************************
  477         *  Name        : Can0Com_Object9_MsgInd
  478         *  Description : receive message indication  
  479         *  Parameter   : none
  480         *  Returns     : none 
  481         *****************************************************************************************/
  482         void Can0Com_Object9_MsgInd(CanReceiveHandle* rcvObject)
  483         {                       
  484  1      
  485  1      }
*** WARNING C47 IN LINE 482 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  486         void Can0Com_Object9_MsgTimeoutInd(void)
  487         {                       
  488  1      
  489  1      }
  490         
  491         /*****************************************************************************************
  492         *  Name        : Can0Com_Object10_MsgInd
  493         *  Description : receive message indication  
  494         *  Parameter   : none
  495         *  Returns     : none 
  496         *****************************************************************************************/
  497         void Can0Com_Object10_MsgInd(CanReceiveHandle* rcvObject)
  498         {                       
  499  1      
  500  1      }
*** WARNING C47 IN LINE 497 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  501         void Can0Com_Object10_MsgTimeoutInd(void)
  502         {                       
  503  1      
  504  1      }
  505         
  506         /*****************************************************************************************
  507         *  Name        : Can0Com_Object11_MsgInd
  508         *  Description : receive message indication  
  509         *  Parameter   : none
  510         *  Returns     : none 
  511         *****************************************************************************************/
  512         void Can0Com_Object11_MsgInd(CanReceiveHandle* rcvObject)
  513         {                       
  514  1      
  515  1      }
*** WARNING C47 IN LINE 512 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  516         void Can0Com_Object11_MsgTimeoutInd(void)
  517         {                       
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 10  

  518  1      
  519  1      }
  520         
  521         /*****************************************************************************************
  522         *  Name        : Can0Com_Object12_MsgInd
  523         *  Description : receive message indication  
  524         *  Parameter   : none
  525         *  Returns     : none 
  526         *****************************************************************************************/
  527         void Can0Com_Object12_MsgInd(CanReceiveHandle* rcvObject)
  528         {                       
  529  1      
  530  1      }
*** WARNING C47 IN LINE 527 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  531         void Can0Com_Object12_MsgTimeoutInd(void)
  532         {                       
  533  1      
  534  1      }
  535         
  536         /*****************************************************************************************
  537         *  Name        : Can0Com_Object13_MsgInd
  538         *  Description : receive message indication  
  539         *  Parameter   : none
  540         *  Returns     : none 
  541         *****************************************************************************************/
  542         void Can0Com_Object13_MsgInd(CanReceiveHandle* rcvObject)
  543         {                       
  544  1      
  545  1      }
*** WARNING C47 IN LINE 542 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  546         void Can0Com_Object13_MsgTimeoutInd(void)
  547         {                       
  548  1      
  549  1      }
  550         
  551         /*****************************************************************************************
  552         *  Name        : Can0Com_Object14_MsgInd
  553         *  Description : receive message indication  
  554         *  Parameter   : none
  555         *  Returns     : none 
  556         *****************************************************************************************/
  557         void Can0Com_Object14_MsgInd(CanReceiveHandle* rcvObject)
  558         {                       
  559  1      
  560  1      }
*** WARNING C47 IN LINE 557 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
  561         void Can0Com_Object14_MsgTimeoutInd(void)
  562         {                       
  563  1      
  564  1      }
  565         
  566         /*****************************************************************************************
  567         *  Name        : Can0Com_Object15_MsgInd
  568         *  Description : receive message indication  
  569         *  Parameter   : none
  570         *  Returns     : none 
  571         *****************************************************************************************/
  572         void Can0Com_Object15_MsgInd(CanReceiveHandle* rcvObject)
  573         {                       
  574  1      
  575  1      }
*** WARNING C47 IN LINE 572 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 11  

  576         void Can0Com_Object15_MsgTimeoutInd(void)
  577         {                       
  578  1      
  579  1      }
  580         
  581         
  582         
  583         /*****************************************************************************************
  584         *  Name        : CanCom_DescPhyAddrMsgInd
  585         *  Description : receive signal from DTC message of physic address
  586         *  Parameter   : none
  587         *  Returns     : none 
  588         *****************************************************************************************/
  589         void CanCom_DescPhyAddrMsgInd(CanReceiveHandle* rcvObject)
  590         {
  591  1              //static INT8U reqDiagDataLen = 0;
  592  1              //static INT8U rcvDataIndex = 0;
  593  1              //static INT8U rcvDiagData[64];
  594  1              INT8U tempValue = 0, i;
  595  1              INT8U Can1DescData[8] = {0};
  596  1              DescMsgContext *pMsgContext = NULL;
  597  1              pMsgContext = &descMsgContext;
  598  1      
  599  1              if((0x00 == (rcvObject[0] & 0xF0)) || (0x30 == (rcvObject[0] & 0xF0)))   // single frame || flow control 
             -frame
  600  1              {
  601  2                      pMsgContext->reqDataLen = rcvObject[0];                 
  602  2                      pMsgContext->reqData[0] = rcvObject[1];
  603  2                      pMsgContext->reqData[1] = rcvObject[2];
  604  2                      pMsgContext->reqData[2] = rcvObject[3];
  605  2                      pMsgContext->reqData[3] = rcvObject[4];
  606  2                      pMsgContext->reqData[4] = rcvObject[5];
  607  2                      pMsgContext->reqData[5] = rcvObject[6];
  608  2                      pMsgContext->reqData[6] = rcvObject[7];
  609  2                      g_descReqMsgRxFlag = TRUE;
  610  2              }
  611  1              else if((rcvObject[0] & 0xF0) == 0x10)   // first frame 
  612  1              {
  613  2                      reqDiagDataLen = rcvObject[1];
  614  2                      rcvDataTimeout = 0u;
  615  2                      for(i=2; i<=7; i++)
  616  2                      {
  617  3                              rcvDiagData[rcvDataIndex++] = rcvObject[i];
  618  3                      }
  619  2                      
  620  2                      Can1DescData[0] = 0x30; 
  621  2      #if (0 == DIAGNOSTIC_MESSAGE)
                              CanSendMsg_v_g(16, &Can1DescData[0]);
              #else
  624  2                      CanSendMsg_v_g(48, &Can1DescData[0]);
  625  2      #endif
  626  2              }
  627  1              else if((rcvObject[0] & 0xF0) == 0x20)   //Consecutive Frame
  628  1              {
  629  2                      tempValue = reqDiagDataLen - rcvDataIndex;
  630  2                      rcvDataTimeout = 0u;
  631  2                      if(tempValue <= 7)
  632  2                      {
  633  3                              for(i=1; i<=tempValue; i++)
  634  3                              {
  635  4                                      rcvDiagData[rcvDataIndex++] = rcvObject[i];
  636  4                              }
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 12  

  637  3                              pMsgContext->reqDataLen = reqDiagDataLen;
  638  3                              for(i=0; i<=reqDiagDataLen; i++)
  639  3                              {
  640  4                                      pMsgContext->reqData[i] = rcvDiagData[i];
  641  4                              }
  642  3                              reqDiagDataLen = 0;
  643  3                              rcvDataIndex = 0;
  644  3                              memset(rcvDiagData, 0, 64);
  645  3                              g_descReqMsgRxFlag = TRUE;   // more frames have been received
  646  3                      }
  647  2                      else
  648  2                      {
  649  3                              for(i=1; i<=7; i++)
  650  3                              {
  651  4                                      rcvDiagData[rcvDataIndex++] = rcvObject[i];
  652  4                              }
  653  3                      }
  654  2              }
  655  1              
  656  1              g_descAddressType = PHY_ADDRESS;        
  657  1      }
  658         
  659         /*****************************************************************************************
  660         *  Name        : CanCom_DescFunAddrMsgInd
  661         *  Description : receive signal from DTC message of function address
  662         *  Parameter   : none
  663         *  Returns     : none 
  664         *****************************************************************************************/
  665         void CanCom_DescFunAddrMsgInd(CanReceiveHandle* rcvObject)
  666         {
  667  1              INT8U tempValue = 0, i;
  668  1              INT8U Can1DescData[8] = {0};
  669  1              DescMsgContext *pMsgContext = NULL;
  670  1              pMsgContext = &descMsgContext;
  671  1      
  672  1              if((0x00 == (rcvObject[0] & 0xF0)) || (0x30 == (rcvObject[0] & 0xF0)))   // single frame || flow control 
             -frame
  673  1              {
  674  2                      pMsgContext->reqDataLen = rcvObject[0];                 
  675  2                      pMsgContext->reqData[0] = rcvObject[1];
  676  2                      pMsgContext->reqData[1] = rcvObject[2];
  677  2                      pMsgContext->reqData[2] = rcvObject[3];
  678  2                      pMsgContext->reqData[3] = rcvObject[4];
  679  2                      pMsgContext->reqData[4] = rcvObject[5];
  680  2                      pMsgContext->reqData[5] = rcvObject[6];
  681  2                      pMsgContext->reqData[6] = rcvObject[7];
  682  2                      g_descReqMsgRxFlag = TRUE;
  683  2              }
  684  1              else if((rcvObject[0] & 0xF0) == 0x10)   // first frameve 
  685  1              {
  686  2                      reqDiagDataLen = rcvObject[1];
  687  2                      rcvDataTimeout = 0u;
  688  2                      for(i=2; i<=7; i++)
  689  2                      {
  690  3                              rcvDiagData[rcvDataIndex++] = rcvObject[i];
  691  3                      }
  692  2                      
  693  2                      Can1DescData[0] = 0x30; 
  694  2      #if (0 == DIAGNOSTIC_MESSAGE)
                              CanSendMsg_v_g(16, &Can1DescData[0]);
              #else
  697  2                      CanSendMsg_v_g(48, &Can1DescData[0]);
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 13  

  698  2      #endif
  699  2                      
  700  2              }
  701  1              else if((rcvObject[0] & 0xF0) == 0x20)  //Consecutive Frame
  702  1              {
  703  2                      tempValue = reqDiagDataLen - rcvDataIndex;
  704  2                      rcvDataTimeout = 0u;
  705  2                      if(tempValue <= 7)
  706  2                      {
  707  3                              for(i=1; i<=tempValue; i++)
  708  3                              {
  709  4                                      rcvDiagData[rcvDataIndex++] = rcvObject[i];
  710  4                              }
  711  3                              pMsgContext->reqDataLen = reqDiagDataLen;
  712  3                              for(i=0; i<=reqDiagDataLen; i++)
  713  3                              {
  714  4                                      pMsgContext->reqData[i] = rcvDiagData[i];
  715  4                              }
  716  3                              reqDiagDataLen = 0;
  717  3                              rcvDataIndex = 0;
  718  3                              memset(rcvDiagData, 0, 64);
  719  3                              g_descReqMsgRxFlag = TRUE;   // more frames have been received
  720  3                      }
  721  2                      else
  722  2                      {
  723  3                              for(i=1; i<=7; i++)
  724  3                              {
  725  4                                      rcvDiagData[rcvDataIndex++] = rcvObject[i];
  726  4                              }
  727  3                      }
  728  2              }
  729  1      
  730  1              g_descAddressType = FUNC_ADDRESS;       
  731  1      }
  732         
  733         /*****************************************************************************************
  734         *  Name        : CanTx_descResMsgSendEnable
  735         *  Description : none  
  736         *  Parameter   : none
  737         *  Returns     : none 
  738         *****************************************************************************************/
  739         void CanTx_descResMsgSendEnable(void)
  740         {
  741  1              descDataSendLength = 0u;
  742  1              descDataSendFlag = TRUE;
  743  1      }
  744         
  745         /*****************************************************************************************
  746         *  Name        : Can0Com_Object16_MsgSend
  747         *  Description : none
  748         *  Parameter   : none
  749         *  Returns     : none 
  750         *****************************************************************************************/
  751         void Can0Com_Object16_MsgSend(void)
  752         {       
  753  1              static INT8U Can0DescData[8] = {0u};
  754  1              static INT8U can0FrameSequenceNumber = 0u;
  755  1              DescMsgContext *pMsgContext = NULL;
  756  1              pMsgContext = &descMsgContext;
  757  1              
  758  1              if(TRUE == descDataSendFlag)
  759  1              {
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 14  

  760  2                      if(pMsgContext->resDataLen < 8) /* Single Frame */
  761  2                      {
  762  3                              Can0DescData[0] = (INT8U)pMsgContext->resDataLen; 
  763  3                              Can0DescData[1] = pMsgContext->resData[0];
  764  3                              Can0DescData[2] = pMsgContext->resData[1];       
  765  3                              Can0DescData[3] = pMsgContext->resData[2];
  766  3                              Can0DescData[4] = pMsgContext->resData[3];         
  767  3                              Can0DescData[5] = pMsgContext->resData[4];
  768  3                              Can0DescData[6] = pMsgContext->resData[5];       
  769  3                              Can0DescData[7] = pMsgContext->resData[6];
  770  3                              
  771  3                              CanSendMsg_v_g(16, &Can0DescData[0]);
  772  3                              descDataSendFlag = FALSE;
  773  3                              
  774  3                              DescClearResData(pMsgContext);                                          
  775  3                              DescProcessingDone();
  776  3                      }
  777  2                      else
  778  2                      {
  779  3                              if(0 == descDataSendLength) /* First Frame */
  780  3                              {
  781  4                                      can0FrameSequenceNumber = 0;
  782  4      
  783  4                                      Can0DescData[0] = 0x10 | (INT8U)(pMsgContext->resDataLen >> 8); 
  784  4                                      Can0DescData[1] = (INT8U)pMsgContext->resDataLen;
  785  4                                      Can0DescData[2] = pMsgContext->resData[descDataSendLength++];       
  786  4                                      Can0DescData[3] = pMsgContext->resData[descDataSendLength++];
  787  4                                      Can0DescData[4] = pMsgContext->resData[descDataSendLength++];         
  788  4                                      Can0DescData[5] = pMsgContext->resData[descDataSendLength++];
  789  4                                      Can0DescData[6] = pMsgContext->resData[descDataSendLength++];       
  790  4                                      Can0DescData[7] = pMsgContext->resData[descDataSendLength++];
  791  4      
  792  4                                      descMoreFramesFlag.bFFSended = TRUE;
  793  4                                      CanSendMsg_v_g(16, &Can0DescData[0]);
  794  4                              }
  795  3                              else if(descMoreFramesFlag.bFCReceived == TRUE)                         /* Consecutive Frame */
  796  3                              {
  797  4                                      Can0DescData[0] = 0x20 | can0FrameSequenceNumber + 1; 
*** WARNING C192 IN LINE 797 OF src\app\can\can_com.c: '=': value truncated
  798  4                                      Can0DescData[1] = pMsgContext->resData[descDataSendLength++];
  799  4                                      Can0DescData[2] = pMsgContext->resData[descDataSendLength++];       
  800  4                                      Can0DescData[3] = pMsgContext->resData[descDataSendLength++];
  801  4                                      Can0DescData[4] = pMsgContext->resData[descDataSendLength++];         
  802  4                                      Can0DescData[5] = pMsgContext->resData[descDataSendLength++];
  803  4                                      Can0DescData[6] = pMsgContext->resData[descDataSendLength++];       
  804  4                                      Can0DescData[7] = pMsgContext->resData[descDataSendLength++];
  805  4      
  806  4                                      CanSendMsg_v_g(16, &Can0DescData[0]);
  807  4      
  808  4                                      /* frame Sequence Number : 0 ~ 15 */
  809  4                                      can0FrameSequenceNumber++;
  810  4                                      if(can0FrameSequenceNumber > 0x0F)
  811  4                                      {
  812  5                                              can0FrameSequenceNumber = 0;
  813  5                                      }
  814  4                                      
  815  4                                      if(descDataSendLength >= pMsgContext->resDataLen)
  816  4                                      {
  817  5                                              /* Data transmission completed */
  818  5                                              descDataSendFlag = FALSE;
  819  5                                              descMoreFramesFlag.bFCReceived = FALSE;
  820  5                                              descMoreFramesFlag.bFFSended = FALSE;
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 15  

  821  5                                              DescClearResData(pMsgContext);                                          
  822  5                                              DescProcessingDone();
  823  5                                      }
  824  4                              }
  825  3                      }
  826  2              }
  827  1      }
  828         
  829         /*****************************************************************************************
  830         *  Name        : Can0Com_Object17_MsgSend
  831         *  Description : none
  832         *  Parameter   : none
  833         *  Returns     : none 
  834         *****************************************************************************************/
  835         void Can0Com_Object17_MsgSend(void)
  836         {
  837  1              INT8U object17DataBuffer[8] = {0};
  838  1              const T_ADC_APP *ptr_adc = AdcApp_SampleData(); 
  839  1              const T_PWM *ptr_Pwm = Pwm_ControlData();
  840  1              
  841  1              object17DataBuffer[0] = (INT8U)(ptr_adc->mainCylinderLocation1 >> 8);
  842  1              object17DataBuffer[1] = (INT8U)ptr_adc->mainCylinderLocation1;
  843  1              object17DataBuffer[2] = (INT8U)(ptr_adc->mainCylinderPressure >> 8u);
  844  1              object17DataBuffer[3] = (INT8U)ptr_adc->mainCylinderPressure;
  845  1              object17DataBuffer[4] = (INT8U)(ptr_adc->brakeMotorCurrent >> 8u);
  846  1              object17DataBuffer[5] = (INT8U)ptr_adc->brakeMotorCurrent;
  847  1              object17DataBuffer[6] = (INT8U)(ptr_Pwm->motorCtrl >> 8u);
  848  1              object17DataBuffer[7] = (INT8U)ptr_Pwm->motorCtrl;
  849  1      
  850  1              if (TRUE == descApplFrameTxEnable)
  851  1              {
  852  2                      CanSendMsg_v_g(17, &object17DataBuffer[0]);
  853  2              }
  854  1      }
  855         
  856         /*****************************************************************************************
  857         *  Name        : Can0Com_Object18_MsgSend
  858         *  Description : none
  859         *  Parameter   : none
  860         *  Returns     : none 
  861         *****************************************************************************************/
  862         void Can0Com_Object18_MsgSend(void)
  863         {
  864  1              INT8U object18DataBuffer[8] = {0};
  865  1              const T_ADC_APP *ptr_adc = AdcApp_SampleData(); 
  866  1              
  867  1              object18DataBuffer[0] = (INT8U)(ptr_adc->brakePedalLocation1 >> 8);
  868  1              object18DataBuffer[1] = (INT8U)ptr_adc->brakePedalLocation1;
  869  1              object18DataBuffer[2] = (INT8U)(ptr_adc->mainCylinderLocation1 >> 8u);
  870  1              object18DataBuffer[3] = (INT8U)ptr_adc->mainCylinderLocation1;
  871  1              object18DataBuffer[4] = (INT8U)(ptr_adc->brakeMotorCurrent >> 8u);
  872  1              object18DataBuffer[5] = (INT8U)ptr_adc->brakeMotorCurrent;
  873  1              object18DataBuffer[6] = (INT8U)(ptr_adc->mainCylinderPressure >> 8u);
  874  1              object18DataBuffer[7] = (INT8U)ptr_adc->mainCylinderPressure;
  875  1      
  876  1              if (TRUE == descApplFrameTxEnable)
  877  1              {
  878  2                      CanSendMsg_v_g(18, &object18DataBuffer[0]);
  879  2              }
  880  1      }
  881         
  882         /*****************************************************************************************
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 16  

  883         *  Name        : Can0Com_Object19_MsgSend
  884         *  Description : none
  885         *  Parameter   : none
  886         *  Returns     : none 
  887         *****************************************************************************************/
  888         void Can0Com_Object19_MsgSend(void)
  889         {
  890  1              INT8U object19DataBuffer[8] = {0};
  891  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
  892  1              const T_PID* ptr_Pid = Pid_AlogrithmData();     
  893  1              
  894  1              if(0 == gRTE_pidTypeSts)
  895  1              {
  896  2                      object19DataBuffer[0] = (INT8U)(ptr_Pid->location.ObjectValue >> 8);
  897  2                      object19DataBuffer[1] = (INT8U)ptr_Pid->location.ObjectValue;
  898  2                      object19DataBuffer[2] = (INT8U)(ptr_Pid->location.actualValue >> 8u);
  899  2                      object19DataBuffer[3] = (INT8U)ptr_Pid->location.actualValue;
  900  2                      object19DataBuffer[4] = (INT8U)(ptr_Booster->calcForwardCurrent >> 8u);
  901  2                      object19DataBuffer[5] = (INT8U)ptr_Booster->calcForwardCurrent;
  902  2                      object19DataBuffer[6] = (INT8U)(ptr_Pid->location.incrementValue >> 8u);
  903  2                      object19DataBuffer[7] = (INT8U)ptr_Pid->location.incrementValue;
  904  2              }
  905  1              else if(1 == gRTE_pidTypeSts)
  906  1              {
  907  2                      object19DataBuffer[0] = (INT8U)(ptr_Pid->onlyLocation.ObjectValue >> 8);
  908  2                      object19DataBuffer[1] = (INT8U)ptr_Pid->onlyLocation.ObjectValue;
  909  2                      object19DataBuffer[2] = (INT8U)(ptr_Pid->onlyLocation.actualValue >> 8);
  910  2                      object19DataBuffer[3] = (INT8U)ptr_Pid->onlyLocation.actualValue;
  911  2                      object19DataBuffer[4] = 0;
  912  2                      object19DataBuffer[5] = 0;
  913  2                      object19DataBuffer[6] = (INT8U)(ptr_Pid->onlyLocation.incrementValue >> 8);
  914  2                      object19DataBuffer[7] = (INT8U)ptr_Pid->onlyLocation.incrementValue;
  915  2              }
  916  1              else
  917  1              {
  918  2                      object19DataBuffer[0] = 0;
  919  2                      object19DataBuffer[1] = 0;
  920  2                      object19DataBuffer[2] = 0;
  921  2                      object19DataBuffer[3] = 0;
  922  2                      object19DataBuffer[4] = 0;
  923  2                      object19DataBuffer[5] = 0;
  924  2                      object19DataBuffer[6] = 0;
  925  2                      object19DataBuffer[7] = 0;
  926  2              }
  927  1      
  928  1              if (TRUE == descApplFrameTxEnable)
  929  1              {
  930  2                      CanSendMsg_v_g(19, &object19DataBuffer[0]);
  931  2              }
  932  1      }
  933         
  934         /*****************************************************************************************
  935         *  Name        : Can0Com_Object20_MsgSend
  936         *  Description : none
  937         *  Parameter   : none
  938         *  Returns     : none 
  939         *****************************************************************************************/
  940         void Can0Com_Object20_MsgSend(void)
  941         {
  942  1              INT8U object20DataBuffer[8] = {0};
  943  1              const T_PID* ptr_Pid = Pid_AlogrithmData();
  944  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 17  

  945  1              
  946  1              if(0 == gRTE_pidTypeSts)
  947  1              {
  948  2                      object20DataBuffer[0] = (INT8U)(ptr_Pid->location.term_Kp >> 8u);
  949  2                      object20DataBuffer[1] = (INT8U)ptr_Pid->location.term_Kp;
  950  2                      object20DataBuffer[2] = (INT8U)(ptr_Pid->location.term_Ki >> 8u);
  951  2                      object20DataBuffer[3] = (INT8U)ptr_Pid->location.term_Ki;
  952  2                      object20DataBuffer[4] = (INT8U)(ptr_Pid->location.term_Kd >> 8u);
  953  2                      object20DataBuffer[5] = (INT8U)ptr_Pid->location.term_Kd;
  954  2                      object20DataBuffer[6] = (INT8U)(ptr_Booster->pedalRate >> 8);
  955  2                      object20DataBuffer[7] = (INT8U)ptr_Booster->pedalRate;
  956  2              }
  957  1              else if(1 == gRTE_pidTypeSts)
  958  1              {
  959  2                      object20DataBuffer[0] = (INT8U)(ptr_Pid->onlyLocation.term_Kp >> 8u);
  960  2                      object20DataBuffer[1] = (INT8U)ptr_Pid->onlyLocation.term_Kp;
  961  2                      object20DataBuffer[2] = (INT8U)(ptr_Pid->onlyLocation.term_Ki >> 8);
  962  2                      object20DataBuffer[3] = (INT8U)ptr_Pid->onlyLocation.term_Ki;
  963  2                      object20DataBuffer[4] = (INT8U)(ptr_Pid->onlyLocation.term_Kd >> 8);
  964  2                      object20DataBuffer[5] = (INT8U)ptr_Pid->onlyLocation.term_Kd;
  965  2                      object20DataBuffer[6] = (INT8U)(ptr_Booster->pedalRate >> 8);
  966  2                      object20DataBuffer[7] = (INT8U)ptr_Booster->pedalRate;
  967  2              }
  968  1              else
  969  1              {
  970  2                      object20DataBuffer[0] = 0;
  971  2                      object20DataBuffer[1] = 0;
  972  2                      object20DataBuffer[2] = 0;
  973  2                      object20DataBuffer[3] = 0;
  974  2                      object20DataBuffer[4] = 0;
  975  2                      object20DataBuffer[5] = 0;
  976  2                      object20DataBuffer[6] = (INT8U)(ptr_Booster->pedalRate >> 8);
  977  2                      object20DataBuffer[7] = (INT8U)ptr_Booster->pedalRate;
  978  2              }
  979  1      
  980  1              if (TRUE == descApplFrameTxEnable)
  981  1              {
  982  2                      CanSendMsg_v_g(20, &object20DataBuffer[0]);
  983  2              }
  984  1      }
  985         
  986         /*****************************************************************************************
  987         *  Name        : Can0Com_Object21_MsgSend
  988         *  Description : none
  989         *  Parameter   : none
  990         *  Returns     : none 
  991         *****************************************************************************************/
  992         void Can0Com_Object21_MsgSend(void)
  993         {
  994  1              INT8U object21DataBuffer[8] = {0};
  995  1              const T_PID* ptr_Pid = Pid_AlogrithmData();
  996  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
  997  1              
  998  1              if((0 == gRTE_pidTypeSts) || 2 == gRTE_pidTypeSts)
  999  1              {
 1000  2                      object21DataBuffer[0] = (INT8U)(ptr_Pid->current.ObjectValue >> 8);
 1001  2                      object21DataBuffer[1] = (INT8U)ptr_Pid->current.ObjectValue;
 1002  2                      object21DataBuffer[2] = (INT8U)(ptr_Pid->current.actualValue >> 8);
 1003  2                      object21DataBuffer[3] = (INT8U)ptr_Pid->current.actualValue;
 1004  2                      object21DataBuffer[4] = (INT8U)(ptr_Booster->calcForwardPwm >> 8);
 1005  2                      object21DataBuffer[5] = (INT8U)ptr_Booster->calcForwardPwm;
 1006  2                      object21DataBuffer[6] = (INT8U)(ptr_Pid->current.incrementValue >> 8);
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 18  

 1007  2                      object21DataBuffer[7] = (INT8U)ptr_Pid->current.incrementValue;
 1008  2              }
 1009  1              else
 1010  1              {
 1011  2                      object21DataBuffer[0] = 0;
 1012  2                      object21DataBuffer[1] = 0;
 1013  2                      object21DataBuffer[2] = 0;
 1014  2                      object21DataBuffer[3] = 0;
 1015  2                      object21DataBuffer[4] = 0;
 1016  2                      object21DataBuffer[5] = 0;
 1017  2                      object21DataBuffer[6] = 0;
 1018  2                      object21DataBuffer[7] = 0;
 1019  2              }
 1020  1      
 1021  1              if (TRUE == descApplFrameTxEnable)
 1022  1              {
 1023  2                      CanSendMsg_v_g(21, &object21DataBuffer[0]);
 1024  2              }
 1025  1      }
 1026         
 1027         /*****************************************************************************************
 1028         *  Name        : Can0Com_Object22_MsgSend
 1029         *  Description : none
 1030         *  Parameter   : none
 1031         *  Returns     : none 
 1032         *****************************************************************************************/
 1033         void Can0Com_Object22_MsgSend(void)
 1034         {
 1035  1              INT8U object22DataBuffer[8] = {0};
 1036  1              const T_PID* ptr_Pid = Pid_AlogrithmData();
 1037  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1038  1              
 1039  1              if((0 == gRTE_pidTypeSts) || 2 == gRTE_pidTypeSts)
 1040  1              {
 1041  2                      object22DataBuffer[0] = (INT8U)(ptr_Pid->current.term_Kp >> 8);
 1042  2                      object22DataBuffer[1] = (INT8U)ptr_Pid->current.term_Kp;
 1043  2                      object22DataBuffer[2] = (INT8U)(ptr_Pid->current.term_Ki >> 8);
 1044  2                      object22DataBuffer[3] = (INT8U)ptr_Pid->current.term_Ki;
 1045  2                      object22DataBuffer[4] = (INT8U)(ptr_Pid->current.term_Kd >> 8);
 1046  2                      object22DataBuffer[5] = (INT8U)ptr_Pid->current.term_Kd;
 1047  2                      object22DataBuffer[6] = (INT8U)(ptr_Booster->cylinderRate >> 8);
 1048  2                      object22DataBuffer[7] = (INT8U)ptr_Booster->cylinderRate;
 1049  2              }
 1050  1              else
 1051  1              {
 1052  2                      object22DataBuffer[0] = 0;
 1053  2                      object22DataBuffer[1] = 0;
 1054  2                      object22DataBuffer[2] = 0;
 1055  2                      object22DataBuffer[3] = 0;
 1056  2                      object22DataBuffer[4] = 0;
 1057  2                      object22DataBuffer[5] = 0;
 1058  2                      object22DataBuffer[6] = (INT8U)(ptr_Booster->cylinderRate >> 8);
 1059  2                      object22DataBuffer[7] = (INT8U)ptr_Booster->cylinderRate;
 1060  2              }
 1061  1              
 1062  1      
 1063  1      
 1064  1              if (TRUE == descApplFrameTxEnable)
 1065  1              {
 1066  2                      CanSendMsg_v_g(22, &object22DataBuffer[0]);
 1067  2              }
 1068  1      }
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 19  

 1069         
 1070         /*****************************************************************************************
 1071         *  Name        : Can0Com_Object23_MsgSend
 1072         *  Description : none
 1073         *  Parameter   : none
 1074         *  Returns     : none 
 1075         *****************************************************************************************/
 1076         void Can0Com_Object23_MsgSend(void)
 1077         {
 1078  1              INT8U object23DataBuffer[8] = {0};
 1079  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1080  1              
 1081  1              object23DataBuffer[0] = (INT8U)(gRTE_pidTypeSts & 0x03);
 1082  1              object23DataBuffer[1] = (INT8U)(ptr_Booster->pedalPredictedLocation >> 8);
 1083  1              object23DataBuffer[2] = (INT8U)(ptr_Booster->pedalPredictedLocation);
 1084  1              object23DataBuffer[3] = 0;
 1085  1              object23DataBuffer[4] = 0;
 1086  1              object23DataBuffer[5] = 0;
 1087  1              object23DataBuffer[6] = 0;
 1088  1              object23DataBuffer[7] = 0;
 1089  1      
 1090  1              if (TRUE == descApplFrameTxEnable)
 1091  1              {
 1092  2                      CanSendMsg_v_g(23, &object23DataBuffer[0]);
 1093  2              }
 1094  1      }
 1095         
 1096         /*****************************************************************************************
 1097         *  Name        : Can0Com_Object24_MsgSend
 1098         *  Description : none
 1099         *  Parameter   : none
 1100         *  Returns     : none 
 1101         *****************************************************************************************/
 1102         void Can0Com_Object24_MsgSend(void)
 1103         {
 1104  1              INT8U object24DataBuffer[8] = {0};
 1105  1              const T_PWM *ptr_Pwm = Pwm_ControlData();
 1106  1      
 1107  1              object24DataBuffer[0] = 0;
 1108  1              object24DataBuffer[1] = 0;
 1109  1              object24DataBuffer[2] = 0;
 1110  1              object24DataBuffer[3] = 0;
 1111  1              object24DataBuffer[4] = (INT8U)(ptr_Pwm->motorCtrl >> 8u);
 1112  1              object24DataBuffer[5] = (INT8U)(ptr_Pwm->motorCtrl & 0x00FF); // polyspace test by gzz 2020.12.30
 1113  1              object24DataBuffer[6] = 0;
 1114  1              object24DataBuffer[7] = 0;
 1115  1      
 1116  1              if (TRUE == descApplFrameTxEnable)
 1117  1              {
 1118  2                      CanSendMsg_v_g(24, &object24DataBuffer[0]);
 1119  2              }
 1120  1      }
 1121         
 1122         /*****************************************************************************************
 1123         *  Name        : Can0Com_Object25_MsgSend
 1124         *  Description : none
 1125         *  Parameter   : none
 1126         *  Returns     : none 
 1127         *****************************************************************************************/
 1128         void Can0Com_Object25_MsgSend(void)
 1129         {
 1130  1              INT8U object25DataBuffer[8] = {0};
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 20  

 1131  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1132  1              const T_ADC_APP *ptr_adcApp = AdcApp_SampleData();      
 1133  1              
 1134  1              object25DataBuffer[0] = (INT8U)(ptr_Booster->brakeStatus & 0x07) 
 1135  1                                                              | ((ptr_Booster->meetEnergyRecoveryCondition & 0x01) << 3);
 1136  1              
 1137  1              object25DataBuffer[1] = ptr_adcApp->environmentTemperature;
 1138  1              object25DataBuffer[2] = (INT8U)(ptr_Booster->totalTorqueRequest >> 8);
 1139  1              object25DataBuffer[3] = (INT8U)ptr_Booster->totalTorqueRequest;
 1140  1              object25DataBuffer[4] = (INT8U)(ptr_Booster->frictionBrakeObjTorque >> 8);
 1141  1              object25DataBuffer[5] = (INT8U)ptr_Booster->frictionBrakeObjTorque;
 1142  1              object25DataBuffer[6] = (INT8U)(ptr_Booster->rbQuitSpeed >> 8);
 1143  1              object25DataBuffer[7] = (INT8U)ptr_Booster->rbQuitSpeed;
 1144  1      
 1145  1              if (TRUE == descApplFrameTxEnable)
 1146  1              {
 1147  2                      CanSendMsg_v_g(25, &object25DataBuffer[0]);
 1148  2              }
 1149  1      }
 1150         
 1151         /*****************************************************************************************
 1152         *  Name        : Can0Com_Object26_MsgSend
 1153         *  Description : none
 1154         *  Parameter   : none
 1155         *  Returns     : none 
 1156         *****************************************************************************************/
 1157         void Can0Com_Object26_MsgSend(void)
 1158         {
 1159  1              INT8U object26DataBuffer[8] = {0};
 1160  1              INT16S stateCoef = 0;
 1161  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1162  1              
 1163  1              stateCoef = ptr_Booster->State4coef * 100;
 1164  1              
 1165  1              object26DataBuffer[0] = (INT8U)(ptr_Booster->mcuMotorObjTorque >> 8);
 1166  1              object26DataBuffer[1] = (INT8U)ptr_Booster->mcuMotorObjTorque;
 1167  1              object26DataBuffer[2] = (INT8U)(ptr_Booster->mcuMotorActualTorque >> 8);
 1168  1              object26DataBuffer[3] = (INT8U)ptr_Booster->mcuMotorActualTorque;
 1169  1              object26DataBuffer[4] = (INT8U)(ptr_Booster->mcuMotorMaxiumTorque >> 8);
 1170  1              object26DataBuffer[5] = (INT8U)ptr_Booster->mcuMotorMaxiumTorque;
 1171  1              object26DataBuffer[6] = (INT8U)(stateCoef >> 8);
 1172  1              object26DataBuffer[7] = (INT8U)stateCoef;
 1173  1      
 1174  1              if (TRUE == descApplFrameTxEnable)
 1175  1              {
 1176  2                      CanSendMsg_v_g(26, &object26DataBuffer[0]);
 1177  2              }
 1178  1      }
 1179         
 1180         /*****************************************************************************************
 1181         *  Name        : Can0Com_Object27_MsgSend
 1182         *  Description : none
 1183         *  Parameter   : none
 1184         *  Returns     : none 
 1185         *****************************************************************************************/
 1186         void Can0Com_Object27_MsgSend(void)
 1187         {
 1188  1              INT8U object27DataBuffer[8] = {0};
 1189  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1190  1              
 1191  1              object27DataBuffer[0] = (INT8U)(ptr_Booster->totalObjLocation >> 8);
 1192  1              object27DataBuffer[1] = (INT8U)ptr_Booster->totalObjLocation;
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 21  

 1193  1              object27DataBuffer[2] = (INT8U)(ptr_Booster->frictionObjLocation >> 8);
 1194  1              object27DataBuffer[3] = (INT8U)(ptr_Booster->frictionObjLocation);
 1195  1              object27DataBuffer[4] = (INT8U)ptr_Booster->protectCoeff;
 1196  1              object27DataBuffer[5] = 0;
 1197  1              object27DataBuffer[6] = 0;
 1198  1              object27DataBuffer[7] = 0;
 1199  1      
 1200  1              if (TRUE == descApplFrameTxEnable)
 1201  1              {
 1202  2                      CanSendMsg_v_g(27, &object27DataBuffer[0]);
 1203  2              }
 1204  1      }
 1205         
 1206         /*****************************************************************************************
 1207         *  Name        : Can0Com_Object28_MsgSend
 1208         *  Description : none
 1209         *  Parameter   : none
 1210         *  Returns     : none 
 1211         *****************************************************************************************/
 1212         void Can0Com_Object28_MsgSend(void)
 1213         {
 1214  1              INT8U object28DataBuffer[8] = {0};      
 1215  1              const T_PID* ptr_Pid = Pid_AlogrithmData();
 1216  1              
 1217  1              object28DataBuffer[0] = (INT8U)(ptr_Pid->pressure.ObjectValue >> 8);
 1218  1              object28DataBuffer[1] = (INT8U)ptr_Pid->pressure.ObjectValue;
 1219  1              object28DataBuffer[2] = (INT8U)(ptr_Pid->pressure.actualValue >> 8);
 1220  1              object28DataBuffer[3] = (INT8U)ptr_Pid->pressure.actualValue;
 1221  1              object28DataBuffer[4] = (INT8U)(ptr_Pid->pressure.incrementValue >> 8);
 1222  1              object28DataBuffer[5] = (INT8U)ptr_Pid->pressure.incrementValue;
 1223  1              object28DataBuffer[6] = (INT8U)(ptr_Pid->pressure.term_Kp >> 8);
 1224  1              object28DataBuffer[7] = (INT8U)ptr_Pid->pressure.term_Kp;       
 1225  1      
 1226  1              if (TRUE == descApplFrameTxEnable)
 1227  1              {
 1228  2                      CanSendMsg_v_g(28, &object28DataBuffer[0]);
 1229  2              }
 1230  1      }
 1231         
 1232         /*****************************************************************************************
 1233         *  Name        : Can0Com_Object29_MsgSend
 1234         *  Description : none
 1235         *  Parameter   : none
 1236         *  Returns     : none 
 1237         *****************************************************************************************/
 1238         void Can0Com_Object29_MsgSend(void)
 1239         {
 1240  1              INT8U object29DataBuffer[8] = {0};
 1241  1              const T_PID* ptr_Pid = Pid_AlogrithmData();
 1242  1      
 1243  1              object29DataBuffer[0] = (INT8U)(ptr_Pid->pressure.term_Ki >> 8);
 1244  1              object29DataBuffer[1] = (INT8U)ptr_Pid->pressure.term_Ki;
 1245  1              object29DataBuffer[2] = (INT8U)(ptr_Pid->pressure.term_Kd >> 8);
 1246  1              object29DataBuffer[3] = (INT8U)ptr_Pid->pressure.term_Kd;
 1247  1              object29DataBuffer[4] = 0;
 1248  1              object29DataBuffer[5] = 0;
 1249  1              object29DataBuffer[6] = 0;
 1250  1              object29DataBuffer[7] = 0;      
 1251  1              
 1252  1              if (TRUE == descApplFrameTxEnable)
 1253  1              {
 1254  2                      CanSendMsg_v_g(29, &object29DataBuffer[0]);
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 22  

 1255  2              }
 1256  1      }
 1257         /*****************************************************************************************
 1258         *  Name        : Can0Com_Object30_MsgSend
 1259         *  Description : none
 1260         *  Parameter   : none
 1261         *  Returns     : none 
 1262         *****************************************************************************************/
 1263         void Can0Com_Object30_MsgSend(void)
 1264         {
 1265  1              INT8U object30DataBuffer[8] = {0};
 1266  1              
 1267  1              object30DataBuffer[0] = 0;
 1268  1              object30DataBuffer[1] = 0;
 1269  1              object30DataBuffer[2] = 0;
 1270  1              object30DataBuffer[3] = 0;
 1271  1              object30DataBuffer[4] = 0;
 1272  1              object30DataBuffer[5] = 0;
 1273  1              object30DataBuffer[6] = 0;
 1274  1              object30DataBuffer[7] = 0;
 1275  1      
 1276  1              if (TRUE == descApplFrameTxEnable)
 1277  1              {
 1278  2                      CanSendMsg_v_g(30, &object30DataBuffer[0]);
 1279  2              }
 1280  1      }
 1281         
 1282         /*****************************************************************************************
 1283         *  Name        : Can0Com_Object31_MsgSend
 1284         *  Description : none
 1285         *  Parameter   : none
 1286         *  Returns     : none 
 1287         *****************************************************************************************/
 1288         void Can0Com_Object31_MsgSend(void)
 1289         {
 1290  1              INT8U object31DataBuffer[8] = {0};
 1291  1              
 1292  1              object31DataBuffer[0] = 0;
 1293  1              object31DataBuffer[1] = 0;
 1294  1              object31DataBuffer[2] = 0;
 1295  1              object31DataBuffer[3] = 0;
 1296  1              object31DataBuffer[4] = 0;
 1297  1              object31DataBuffer[5] = 0;
 1298  1              object31DataBuffer[6] = 0;
 1299  1              object31DataBuffer[7] = 0;
 1300  1      
 1301  1              if (TRUE == descApplFrameTxEnable)
 1302  1              {
 1303  2                      CanSendMsg_v_g(31, &object31DataBuffer[0]);
 1304  2              }
 1305  1      }
 1306         
 1307         
 1308         
 1309         
 1310         
 1311         /*****************************************************************************************
 1312         *  Name        : Can1Com_Object32_MsgInd
 1313         *  Description : receive message indication  
 1314         *  Parameter   : none
 1315         *  Returns     : none 
 1316         *****************************************************************************************/
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 23  

 1317         void Can1Com_Object32_MsgInd(CanReceiveHandle* rcvObject)
 1318         {                       
 1319  1              
 1320  1      }
*** WARNING C47 IN LINE 1317 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1321         void Can1Com_Object32_MsgTimeoutInd(void)
 1322         {                       
 1323  1              
 1324  1      }
 1325         
 1326         /*****************************************************************************************
 1327         *  Name        : Can1Com_Object33_MsgInd
 1328         *  Description : receive message indication  
 1329         *  Parameter   : none
 1330         *  Returns     : none 
 1331         *****************************************************************************************/
 1332         void Can1Com_Object33_MsgInd(CanReceiveHandle* rcvObject)
 1333         {                       
 1334  1              
 1335  1      }
*** WARNING C47 IN LINE 1332 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1336         void Can1Com_Object33_MsgTimeoutInd(void)
 1337         {                       
 1338  1              
 1339  1      }
 1340         
 1341         /*****************************************************************************************
 1342         *  Name        : Can1Com_Object34_MsgInd
 1343         *  Description : receive message indication  
 1344         *  Parameter   : none
 1345         *  Returns     : none 
 1346         *****************************************************************************************/
 1347         void Can1Com_Object34_MsgInd(CanReceiveHandle* rcvObject)
 1348         {                       
 1349  1              CanCom_CcpMsgInd(rcvObject);
 1350  1      }
 1351         void Can1Com_Object34_MsgTimeoutInd(void)
 1352         {                       
 1353  1      
 1354  1      }
 1355         
 1356         /*****************************************************************************************
 1357         *  Name        : Can1Com_Object35_MsgInd
 1358         *  Description : receive message indication  
 1359         *  Parameter   : none
 1360         *  Returns     : none 
 1361         *****************************************************************************************/
 1362         void Can1Com_Object35_MsgInd(CanReceiveHandle* rcvObject)
 1363         {                       
 1364  1              iCAS_CommunicationFault = FALSE;
 1365  1      //      g_PressureSensorFaultFlag = (rcvObject[0] >> 6) & 0x01;
 1366  1              g_ParkStateFlag = (rcvObject[0] >> 7) & 0x01;
 1367  1      
 1368  1              if(0x20 == (rcvObject[0] & 0x20)) //
 1369  1              {
 1370  2                      g_cylinderExhaustEnFlag = TRUE;
 1371  2                      g_wireControlObjPressure = rcvObject[1];
 1372  2      //              g_wireControlActualPressure = rcvObject[2];
 1373  2                      
 1374  2                      g_cylinderExhaustInformFlag = TRUE;
 1375  2              }
 1376  1              else if(0x10 == (rcvObject[0] & 0x10)) //
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 24  

 1377  1              {
 1378  2                      g_wireControlEnFlag = TRUE;
 1379  2                      g_wireControlObjPressure = rcvObject[1];
 1380  2      //              g_wireControlActualPressure = rcvObject[2];
 1381  2      
 1382  2                      g_wireControlActionFlag = TRUE;
 1383  2              }
 1384  1              else
 1385  1              {
 1386  2                      g_wireControlEnFlag = FALSE;
 1387  2                      
 1388  2                      
 1389  2                      g_wireControlObjPressure = 0;
 1390  2      //              g_wireControlActualPressure = 0;
 1391  2                      
 1392  2                      g_wireControlActionFlag = FALSE;
 1393  2                      g_cylinderExhaustEnFlag = FALSE;
 1394  2                      g_cylinderExhaustInformFlag = FALSE;
 1395  2              }
 1396  1              
 1397  1              t_canMsgLostFlag.b0x202MsgLostErr = FALSE;
 1398  1      }
 1399         void Can1Com_Object35_MsgTimeoutInd(void)
 1400         {                       
 1401  1              iCAS_CommunicationFault = TRUE;
 1402  1      //      g_PressureSensorFaultFlag = TRUE;
 1403  1              g_ParkStateFlag = FALSE;
 1404  1      
 1405  1              g_wireControlEnFlag = FALSE;
 1406  1              g_wireControlObjPressure = 0;
 1407  1              g_wireControlActionFlag = FALSE;
 1408  1      
 1409  1              g_cylinderExhaustEnFlag = FALSE;
 1410  1              g_cylinderExhaustInformFlag = FALSE;
 1411  1              
 1412  1              t_canMsgLostFlag.b0x202MsgLostErr = TRUE;
 1413  1      }
 1414         
 1415         /*****************************************************************************************
 1416         *  Name        : Can1Com_Object36_MsgInd
 1417         *  Description : receive message indication  
 1418         *  Parameter   : none
 1419         *  Returns     : none 
 1420         *****************************************************************************************/
 1421         void Can1Com_Object36_MsgInd(CanReceiveHandle* rcvObject)
 1422         {                       
 1423  1              MCU_AllowFeedbackFlag = ((rcvObject[1] & 0x40) >> 6);   
 1424  1              MCU_MotActuToq = ((INT16U)rcvObject[2] << 8) | (INT16U)rcvObject[3];         
 1425  1              MCU_MotActuSpd = ((INT16U)rcvObject[4] << 8) | (INT16U)rcvObject[5];     
 1426  1              t_canMsgLostFlag.b0x202MsgLostErr = FALSE;
 1427  1      }
 1428         void Can1Com_Object36_MsgTimeoutInd(void)
 1429         {
 1430  1              MCU_AllowFeedbackFlag = 0;
 1431  1              MCU_MotActuToq = 8000;
 1432  1              MCU_MotActuSpd = 0;
 1433  1              //t_canMsgLostFlag.b0x202MsgLostErr = TRUE;
 1434  1      }
 1435         
 1436         /*****************************************************************************************
 1437         *  Name        : Can1Com_Object37_MsgInd
 1438         *  Description : receive message indication  
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 25  

 1439         *  Parameter   : none
 1440         *  Returns     : none 
 1441         *****************************************************************************************/
 1442         void Can1Com_Object37_MsgInd(CanReceiveHandle* rcvObject)
 1443         {                       
 1444  1              //VCU_VehicleSpeed = ((INT16U)rcvObject[4] << 7) | ((INT16U)rcvObject[5] >> 1);
 1445  1              //VCU_VehicleSpeedValidFlag = (rcvObject[5] & 0x01);
 1446  1      }
*** WARNING C47 IN LINE 1442 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1447         void Can1Com_Object37_MsgTimeoutInd(void)
 1448         {
 1449  1      
 1450  1      }
 1451         
 1452         /*****************************************************************************************
 1453         *  Name        : Can1Com_Object38_MsgInd
 1454         *  Description : receive message indication  
 1455         *  Parameter   : none
 1456         *  Returns     : none 
 1457         *****************************************************************************************/
 1458         void Can1Com_Object38_MsgInd(CanReceiveHandle* rcvObject)
 1459         {       
 1460  1              g_inEnergyRecoverySts = ((rcvObject[5] & 0xC0) >> 6);
 1461  1              t_canMsgLostFlag.b0x101MsgLostErr = FALSE;
 1462  1      }
 1463         void Can1Com_Object38_MsgTimeoutInd(void)
 1464         {       
 1465  1              //t_canMsgLostFlag.b0x101MsgLostErr = TRUE;
 1466  1      }
 1467         
 1468         /*****************************************************************************************
 1469         *  Name        : Can1Com_Object39_MsgInd
 1470         *  Description : receive 0x139 message indication  
 1471         *  Parameter   : none
 1472         *  Returns     : none 
 1473         *****************************************************************************************/
 1474         void Can1Com_Object39_MsgInd(CanReceiveHandle* rcvObject)
 1475         {                       
 1476  1              VCU_VehicleSpeed = ((INT16U)rcvObject[2] << 8) | ((INT16U)rcvObject[3]);
 1477  1              if(0x80 == (rcvObject[0] & 0x80))
 1478  1              {
 1479  2                      VCU_VehicleSpeedValidFlag = FALSE;
 1480  2              }
 1481  1              else
 1482  1              {
 1483  2                      VCU_VehicleSpeedValidFlag = TRUE;
 1484  2              }
 1485  1              t_canMsgLostFlag.b0x454MsgLostErr = FALSE;
 1486  1      }
 1487         void Can1Com_Object39_MsgTimeoutInd(void)
 1488         {                       
 1489  1              VCU_VehicleSpeed = 0;
 1490  1              VCU_VehicleSpeedValidFlag = FALSE;
 1491  1              //t_canMsgLostFlag.b0x454MsgLostErr = TRUE;
 1492  1      }
 1493         
 1494         /*****************************************************************************************
 1495         *  Name        : Can1Com_Object40_MsgInd
 1496         *  Description : receive 0x140 message indication  
 1497         *  Parameter   : none
 1498         *  Returns     : none 
 1499         *****************************************************************************************/
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 26  

 1500         void Can1Com_Object40_MsgInd(CanReceiveHandle* rcvObject)
 1501         {                       
 1502  1              VCU_BrakePedalSts = ((rcvObject[0] & 0x10) >> 4);
 1503  1              t_canMsgLostFlag.b0x505MsgLostErr = FALSE;
 1504  1      }
 1505         void Can1Com_Object40_MsgTimeoutInd(void)
 1506         {                       
 1507  1              //t_canMsgLostFlag.b0x505MsgLostErr = TRUE;
 1508  1      }
 1509         
 1510         /*****************************************************************************************
 1511         *  Name        : Can1Com_Object41_MsgInd
 1512         *  Description : receive message indication  
 1513         *  Parameter   : none
 1514         *  Returns     : none 
 1515         *****************************************************************************************/
 1516         void Can1Com_Object41_MsgInd(CanReceiveHandle* rcvObject)
 1517         {                       
 1518  1              MCU_MotToqLmt = ((INT16U)rcvObject[0] << 8) | (INT16U)rcvObject[1];
 1519  1              t_canMsgLostFlag.b0x206MsgLostErr = FALSE;
 1520  1      }
 1521         void Can1Com_Object41_MsgTimeoutInd(void)
 1522         {
 1523  1              MCU_MotToqLmt = 8000;
 1524  1              //t_canMsgLostFlag.b0x206MsgLostErr = TRUE;
 1525  1      }
 1526         
 1527         /*****************************************************************************************
 1528         *  Name        : Can1Com_Object42_MsgInd
 1529         *  Description : receive 0x142 message indication  
 1530         *  Parameter   : none
 1531         *  Returns     : none 
 1532         *****************************************************************************************/
 1533         void Can1Com_Object42_MsgInd(CanReceiveHandle* rcvObject)
 1534         {                       
 1535  1      
 1536  1      }
*** WARNING C47 IN LINE 1533 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1537         void Can1Com_Object42_MsgTimeoutInd(void)
 1538         {
 1539  1              
 1540  1      }
 1541         
 1542         /*****************************************************************************************
 1543         *  Name        : Can1Com_Object43_MsgInd
 1544         *  Description : receive message indication  
 1545         *  Parameter   : none
 1546         *  Returns     : none 
 1547         *****************************************************************************************/
 1548         void Can1Com_Object43_MsgInd(CanReceiveHandle* rcvObject)
 1549         {                       
 1550  1      
 1551  1      }
*** WARNING C47 IN LINE 1548 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1552         void Can1Com_Object43_MsgTimeoutInd(void)
 1553         {
 1554  1              
 1555  1      }
 1556         
 1557         /*****************************************************************************************
 1558         *  Name        : Can1Com_Object44_MsgInd
 1559         *  Description : receive message indication  
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 27  

 1560         *  Parameter   : none
 1561         *  Returns     : none 
 1562         *****************************************************************************************/
 1563         void Can1Com_Object44_MsgInd(CanReceiveHandle* rcvObject)
 1564         {                       
 1565  1      
 1566  1      }
*** WARNING C47 IN LINE 1563 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1567         void Can1Com_Object44_MsgTimeoutInd(void)
 1568         {
 1569  1              
 1570  1      }
 1571         
 1572         /*****************************************************************************************
 1573         *  Name        : Can1Com_Object45_MsgInd
 1574         *  Description : receive message indication  
 1575         *  Parameter   : none
 1576         *  Returns     : none 
 1577         *****************************************************************************************/
 1578         void Can1Com_Object45_MsgInd(CanReceiveHandle* rcvObject)
 1579         {                       
 1580  1      
 1581  1      }
*** WARNING C47 IN LINE 1578 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1582         void Can1Com_Object45_MsgTimeoutInd(void)
 1583         {
 1584  1              
 1585  1      }
 1586         
 1587         /*****************************************************************************************
 1588         *  Name        : Can1Com_Object46_MsgInd
 1589         *  Description : receive message indication  
 1590         *  Parameter   : none
 1591         *  Returns     : none 
 1592         *****************************************************************************************/
 1593         void Can1Com_Object46_MsgInd(CanReceiveHandle* rcvObject)
 1594         {                       
 1595  1      
 1596  1      }
*** WARNING C47 IN LINE 1593 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1597         void Can1Com_Object46_MsgTimeoutInd(void)
 1598         {
 1599  1              
 1600  1      }
 1601         
 1602         /*****************************************************************************************
 1603         *  Name        : Can1Com_Object47_MsgInd
 1604         *  Description : receive message indication  
 1605         *  Parameter   : none
 1606         *  Returns     : none 
 1607         *****************************************************************************************/
 1608         void Can1Com_Object47_MsgInd(CanReceiveHandle* rcvObject)
 1609         {                       
 1610  1      
 1611  1      }
*** WARNING C47 IN LINE 1608 OF src\app\can\can_com.c: 'rcvObject': unreferenced parameter
 1612         void Can1Com_Object47_MsgTimeoutInd(void)
 1613         {
 1614  1              
 1615  1      }
 1616         
 1617         
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 28  

 1618         
 1619         /*****************************************************************************************
 1620         *  Name        : Can1Com_Object48_MsgSend
 1621         *  Description : none
 1622         *  Parameter   : none
 1623         *  Returns     : none 
 1624         *****************************************************************************************/
 1625         void Can1Com_Object48_MsgSend(void)
 1626         {
 1627  1              static INT8U Can1DescData[8] = {0u};
 1628  1              static INT8U can1FrameSequenceNumber = 0u;
 1629  1              DescMsgContext *pMsgContext = NULL;
 1630  1              pMsgContext = &descMsgContext;
 1631  1      
 1632  1              if(TRUE == descDataSendFlag)
 1633  1              {
 1634  2                      if(pMsgContext->resDataLen < 8) /* Single Frame */
 1635  2                      {
 1636  3                              Can1DescData[0] = (INT8U)pMsgContext->resDataLen; 
 1637  3                              Can1DescData[1] = pMsgContext->resData[0];
 1638  3                              Can1DescData[2] = pMsgContext->resData[1];       
 1639  3                              Can1DescData[3] = pMsgContext->resData[2];
 1640  3                              Can1DescData[4] = pMsgContext->resData[3];         
 1641  3                              Can1DescData[5] = pMsgContext->resData[4];
 1642  3                              Can1DescData[6] = pMsgContext->resData[5];       
 1643  3                              Can1DescData[7] = pMsgContext->resData[6];
 1644  3                              
 1645  3                              CanSendMsg_v_g(48, &Can1DescData[0]);
 1646  3                              descDataSendFlag = FALSE;
 1647  3                              
 1648  3                              DescClearResData(pMsgContext);                                          
 1649  3                              DescProcessingDone();
 1650  3                      }
 1651  2                      else
 1652  2                      {
 1653  3                              if(0 == descDataSendLength) /* First Frame */
 1654  3                              {
 1655  4                                      can1FrameSequenceNumber = 0;
 1656  4      
 1657  4                                      Can1DescData[0] = 0x10 | (INT8U)(pMsgContext->resDataLen >> 8); 
 1658  4                                      Can1DescData[1] = (INT8U)pMsgContext->resDataLen;
 1659  4                                      Can1DescData[2] = pMsgContext->resData[descDataSendLength++];       
 1660  4                                      Can1DescData[3] = pMsgContext->resData[descDataSendLength++];
 1661  4                                      Can1DescData[4] = pMsgContext->resData[descDataSendLength++];         
 1662  4                                      Can1DescData[5] = pMsgContext->resData[descDataSendLength++];
 1663  4                                      Can1DescData[6] = pMsgContext->resData[descDataSendLength++];       
 1664  4                                      Can1DescData[7] = pMsgContext->resData[descDataSendLength++];
 1665  4                                      
 1666  4                                      descMoreFramesFlag.bFFSended = TRUE;
 1667  4                                      CanSendMsg_v_g(48, &Can1DescData[0]);
 1668  4                              }
 1669  3                              else if(descMoreFramesFlag.bFCReceived == TRUE)                         /* Consecutive Frame */
 1670  3                              {
 1671  4      
 1672  4                                      Can1DescData[0] = 0x20 | can1FrameSequenceNumber + 1u; 
*** WARNING C192 IN LINE 1672 OF src\app\can\can_com.c: '=': value truncated
 1673  4                                      Can1DescData[1] = pMsgContext->resData[descDataSendLength++];
 1674  4                                      Can1DescData[2] = pMsgContext->resData[descDataSendLength++];       
 1675  4                                      Can1DescData[3] = pMsgContext->resData[descDataSendLength++];
 1676  4                                      Can1DescData[4] = pMsgContext->resData[descDataSendLength++];         
 1677  4                                      Can1DescData[5] = pMsgContext->resData[descDataSendLength++];
 1678  4                                      Can1DescData[6] = pMsgContext->resData[descDataSendLength++];       
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 29  

 1679  4                                      Can1DescData[7] = pMsgContext->resData[descDataSendLength++];
 1680  4      
 1681  4                                      CanSendMsg_v_g(48, &Can1DescData[0]);
 1682  4      
 1683  4                                      /* frame Sequence Number : 0 ~ 15 */
 1684  4                                      can1FrameSequenceNumber++;
 1685  4                                      if(can1FrameSequenceNumber > 0x0F)
 1686  4                                      {
 1687  5                                              can1FrameSequenceNumber = 0;
 1688  5                                      }
 1689  4                                      
 1690  4                                      if(descDataSendLength >= pMsgContext->resDataLen)
 1691  4                                      {
 1692  5                                              /* Data transmission completed */
 1693  5                                              descDataSendFlag = FALSE;
 1694  5                                              descMoreFramesFlag.bFCReceived = FALSE;
 1695  5                                              descMoreFramesFlag.bFFSended = FALSE;
 1696  5                                              DescClearResData(pMsgContext);                                          
 1697  5                                              DescProcessingDone();
 1698  5                                      }
 1699  4                              }
 1700  3                      }
 1701  2              }
 1702  1      }
 1703         
 1704         /*****************************************************************************************
 1705         *  Name        : Can1Com_Object49_MsgSend
 1706         *  Description : none
 1707         *  Parameter   : none
 1708         *  Returns     : none 
 1709         *****************************************************************************************/
 1710         void Can1Com_Object49_MsgSend(void)
 1711         {
 1712  1              INT8U object49DataBuffer[8] = {0};
 1713  1              
 1714  1              object49DataBuffer[0] = 0;
 1715  1          object49DataBuffer[1] = 0;
 1716  1          object49DataBuffer[2] = 0;
 1717  1              object49DataBuffer[3] = 0;
 1718  1              object49DataBuffer[4] = 0;
 1719  1              object49DataBuffer[5] = 0;
 1720  1              object49DataBuffer[6] = 0;
 1721  1              object49DataBuffer[7] = 0;
 1722  1              
 1723  1              if (TRUE == descApplFrameTxEnable)
 1724  1              {
 1725  2                      CanSendMsg_v_g(49, &object49DataBuffer[0]);
 1726  2              }
 1727  1      }
 1728         
 1729         /*****************************************************************************************
 1730         *  Name        : Can1Com_Object50_MsgSend
 1731         *  Description : none
 1732         *  Parameter   : none
 1733         *  Returns     : none 
 1734         *****************************************************************************************/
 1735         void Can1Com_Object50_MsgSend(void)
 1736         {
 1737  1              INT8U temp = 0;
 1738  1              INT8U object50DataBuffer[8] = {0};
 1739  1              static INT8U rollingCount16B = 0;
 1740  1      
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 30  

 1741  1              object50DataBuffer[0] = (INT8U)(iCAS_CylinderSensorPwrFault & 0x01)
 1742  1                                                              | (INT8U)((iCAS_PedalSensorPwrFault & 0x02) << 1)
 1743  1                                                              | (INT8U)((iCAS_InputBrakeSigFault & 0x04) << 2)
 1744  1                                                              | (INT8U)((iCAS_CylinderSigErr & 0x08) << 3)
 1745  1                                                              | (INT8U)((iCAS_PedalSigErr & 0x10) << 4)
 1746  1                                                              | (INT8U)((iCAS_MotorFault & 0x20) << 5)
 1747  1                                                              | (INT8U)((iCAS_CommunicationFault & 0x40) << 6);
 1748  1              object50DataBuffer[1] = 0;
 1749  1              object50DataBuffer[2] = 0;
 1750  1              object50DataBuffer[3] = 0;
 1751  1              object50DataBuffer[4] = 0;
 1752  1              object50DataBuffer[5] = 0;
 1753  1              object50DataBuffer[6] = rollingCount16B;
 1754  1              
 1755  1              //iCAS_16B_RollingCounter = rollingCount16B;
 1756  1              iCAS_16B_CheckSum = object50DataBuffer[0]
 1757  1                                              ^ object50DataBuffer[1]
 1758  1                                              ^ object50DataBuffer[2]
 1759  1                                              ^ object50DataBuffer[3]
 1760  1                                              ^ object50DataBuffer[4]
 1761  1                                              ^ object50DataBuffer[5]
 1762  1                                              ^ object50DataBuffer[6];
 1763  1              
 1764  1              object50DataBuffer[7] = (INT8U)iCAS_16B_CheckSum;
 1765  1      
 1766  1              if (TRUE == descApplFrameTxEnable)
 1767  1              {
 1768  2                      CanSendMsg_v_g(50, &object50DataBuffer[0]);
 1769  2                      if(rollingCount16B < 15)
 1770  2                      {
 1771  3                              rollingCount16B++;
 1772  3                      }
 1773  2                      else
 1774  2                      {
 1775  3                              rollingCount16B = 0;
 1776  3                      }
 1777  2              }
 1778  1      }
 1779         
 1780         /*****************************************************************************************
 1781         *  Name        : Can1Com_Object51_MsgSend
 1782         *  Description : none
 1783         *  Parameter   : none
 1784         *  Returns     : none 
 1785         *****************************************************************************************/
 1786         void Can1Com_Object51_MsgSend(void)
 1787         {
 1788  1              INT8U object51DataBuffer[8] = {0};
 1789  1              static INT8U rollingCount711 = 0;
 1790  1              
 1791  1              const T_BOOSTER* ptr_Booster = Booster_AlogrithmData();
 1792  1              
 1793  1              //      iCAS_wireContorlFlag
 1794  1              object51DataBuffer[0] = (g_wireControlActionFlag & 0x01)
 1795  1      //                                                              | ((iCAS_CylinderSensorPwrFault & 0x01) << 1)
 1796  1      //                                                              | ((iCAS_CylinderSigErr & 0x01) << 2)
 1797  1                                                                      | ((iCAS_MotorFault & 0x01) << 3)
 1798  1                                                                      | ((iCAS_CommunicationFault & 0x01) << 4)
 1799  1                                                                      | ((g_cylinderExhaustInformFlag & 0x01) << 5);
*** WARNING C192 IN LINE 1799 OF src\app\can\can_com.c: '=': value truncated
 1800  1              
 1801  1              //      iCAS_CylinderPressure_Ref
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 31  

 1802  1              object51DataBuffer[1] = (INT8U)(((iCAS_CylinderLocation >> 8) & 0x01)
 1803  1                                                                                      | (iCAS_protectCoeff << 1));
 1804  1              object51DataBuffer[2] = (INT8U)(iCAS_CylinderLocation);
 1805  1              object51DataBuffer[3] = (INT8U)(g_wireControlActualPressure);
 1806  1              object51DataBuffer[4] = (gRTE_pidTypeSts & 0x03)
 1807  1                                                                      | ((gRTE_wireControlPressureLoopFlag & 0x01) << 2)
 1808  1                                                                      | ((g_PressureSensorFaultFlag & 0x01) << 3)
 1809  1                                                                      | ((BrakeSysMode & 0x01) << 4);
*** WARNING C192 IN LINE 1809 OF src\app\can\can_com.c: '=': value truncated
 1810  1              
 1811  1              // modified 20210109, pressure closed loop test
 1812  1              object51DataBuffer[5] = (INT8U)(iCAS_motorCurrent >> 3);
 1813  1              object51DataBuffer[6] = (INT8U)(((iCAS_motorCurrent & 0x07) << 5)
 1814  1                                                                              | ((iCAS_PedalLocation >> 4) & 0x1F));
 1815  1              
 1816  1              //      iCAS_16A_RollingCounter
 1817  1              object51DataBuffer[7] = ((iCAS_PedalLocation & 0x0F) << 4) | (rollingCount711 & 0x0F);
 1818  1      
 1819  1              if (TRUE == descApplFrameTxEnable)
 1820  1              {
 1821  2                      CanSendMsg_v_g(51, &object51DataBuffer[0]);
 1822  2                      if(rollingCount711 < 15)
 1823  2                      {
 1824  3                              rollingCount711++;
 1825  3                      }
 1826  2                      else
 1827  2                      {
 1828  3                              rollingCount711 = 0;
 1829  3                      }
 1830  2              }
 1831  1      }
 1832         
 1833         /*****************************************************************************************
 1834         *  Name        : Can1Com_Object52_MsgSend
 1835         *  Description : none
 1836         *  Parameter   : none
 1837         *  Returns     : none 
 1838         *****************************************************************************************/
 1839         void Can1Com_Object52_MsgSend(void)
 1840         {
 1841  1              INT8U object52DataBuffer[8] = {0};
 1842  1              
 1843  1              object52DataBuffer[0] = 0;
 1844  1              object52DataBuffer[1] = 0;
 1845  1              object52DataBuffer[2] = 0;
 1846  1              object52DataBuffer[3] = 0;
 1847  1              object52DataBuffer[4] = 0;
 1848  1              object52DataBuffer[5] = 0;
 1849  1              object52DataBuffer[6] = 0;
 1850  1              object52DataBuffer[7] = 0;
 1851  1      
 1852  1              if (TRUE == descApplFrameTxEnable)
 1853  1              {
 1854  2                      CanSendMsg_v_g(52, &object52DataBuffer[0]);
 1855  2              }
 1856  1      }
 1857         
 1858         /*****************************************************************************************
 1859         *  Name        : Can1Com_Object53_MsgSend
 1860         *  Description : none
 1861         *  Parameter   : none
 1862         *  Returns     : none 
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 32  

 1863         *****************************************************************************************/
 1864         void Can1Com_Object53_MsgSend(void)
 1865         {
 1866  1              INT8U object53DataBuffer[8] = {0};
 1867  1              
 1868  1              object53DataBuffer[0] = 0;
 1869  1              object53DataBuffer[1] = 0;
 1870  1              object53DataBuffer[2] = 0;
 1871  1              object53DataBuffer[3] = 0;
 1872  1              object53DataBuffer[4] = 0;
 1873  1              object53DataBuffer[5] = 0;
 1874  1              object53DataBuffer[6] = 0;
 1875  1              object53DataBuffer[7] = 0;
 1876  1      
 1877  1              if (TRUE == descApplFrameTxEnable)
 1878  1              {
 1879  2                      CanSendMsg_v_g(53, &object53DataBuffer[0]);
 1880  2              }
 1881  1      }
 1882         
 1883         /*****************************************************************************************
 1884         *  Name        : Can1Com_Object54_MsgSend
 1885         *  Description : none
 1886         *  Parameter   : none
 1887         *  Returns     : none 
 1888         *****************************************************************************************/
 1889         void Can1Com_Object54_MsgSend(void)
 1890         {
 1891  1              INT8U object54DataBuffer[8] = {0};
 1892  1              
 1893  1              object54DataBuffer[0] = 0;
 1894  1              object54DataBuffer[1] = 0;
 1895  1              object54DataBuffer[2] = 0;
 1896  1              object54DataBuffer[3] = 0;
 1897  1              object54DataBuffer[4] = 0;
 1898  1              object54DataBuffer[5] = 0;
 1899  1              object54DataBuffer[6] = 0;
 1900  1              object54DataBuffer[7] = 0;
 1901  1      
 1902  1              if (TRUE == descApplFrameTxEnable)
 1903  1              {
 1904  2                      CanSendMsg_v_g(54, &object54DataBuffer[0]);
 1905  2              }
 1906  1      }
 1907         
 1908         /*****************************************************************************************
 1909         *  Name        : Can1Com_Object55_MsgSend
 1910         *  Description : none
 1911         *  Parameter   : none
 1912         *  Returns     : none 
 1913         *****************************************************************************************/
 1914         void Can1Com_Object55_MsgSend(void)
 1915         {
 1916  1              INT8U object55DataBuffer[8] = {0};
 1917  1              
 1918  1              object55DataBuffer[0] = 0x56;
 1919  1              object55DataBuffer[1] = 0;
 1920  1              object55DataBuffer[2] = 0;
 1921  1              object55DataBuffer[3] = 0x23;
 1922  1              object55DataBuffer[4] = 0;
 1923  1              object55DataBuffer[5] = 0;
 1924  1              object55DataBuffer[6] = 0;
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 33  

 1925  1              object55DataBuffer[7] = 0;
 1926  1      
 1927  1              if (TRUE == descApplFrameTxEnable)
 1928  1              {
 1929  2                      CanSendMsg_v_g(55, &object55DataBuffer[0]);
 1930  2              }
 1931  1      }
 1932         
 1933         /*****************************************************************************************
 1934         *  Name        : Can1Com_Object56_MsgSend
 1935         *  Description : none
 1936         *  Parameter   : none
 1937         *  Returns     : none 
 1938         *****************************************************************************************/
 1939         void Can1Com_Object56_MsgSend(void)
 1940         {
 1941  1              INT8U object56DataBuffer[8] = {0};
 1942  1              
 1943  1              object56DataBuffer[0] = 0;
 1944  1              object56DataBuffer[1] = 0;
 1945  1              object56DataBuffer[2] = 0;
 1946  1              object56DataBuffer[3] = 0;
 1947  1              object56DataBuffer[4] = 0;
 1948  1              object56DataBuffer[5] = 0;
 1949  1              object56DataBuffer[6] = 0;
 1950  1              object56DataBuffer[7] = 0;
 1951  1      
 1952  1              if (TRUE == descApplFrameTxEnable)
 1953  1              {
 1954  2                      CanSendMsg_v_g(56, &object56DataBuffer[0]);
 1955  2              }
 1956  1      }
 1957         
 1958         /*****************************************************************************************
 1959         *  Name        : Can1Com_Object57_MsgSend
 1960         *  Description : none
 1961         *  Parameter   : none
 1962         *  Returns     : none 
 1963         *****************************************************************************************/
 1964         void Can1Com_Object57_MsgSend(void)
 1965         {
 1966  1              INT8U object57DataBuffer[8] = {0};
 1967  1              
 1968  1              object57DataBuffer[0] = 0;
 1969  1              object57DataBuffer[1] = 0;
 1970  1              object57DataBuffer[2] = 0;
 1971  1              object57DataBuffer[3] = 0;
 1972  1              object57DataBuffer[4] = 0;
 1973  1              object57DataBuffer[5] = 0;
 1974  1              object57DataBuffer[6] = 0;
 1975  1              object57DataBuffer[7] = 0;
 1976  1      
 1977  1              if (TRUE == descApplFrameTxEnable)
 1978  1              {
 1979  2                      CanSendMsg_v_g(57, &object57DataBuffer[0]);
 1980  2              }
 1981  1      }
 1982         
 1983         /*****************************************************************************************
 1984         *  Name        : Can1Com_Object58_MsgSend
 1985         *  Description : none
 1986         *  Parameter   : none
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 34  

 1987         *  Returns     : none 
 1988         *****************************************************************************************/
 1989         void Can1Com_Object58_MsgSend(void)
 1990         {
 1991  1              INT8U object58DataBuffer[8] = {0};
 1992  1              
 1993  1              object58DataBuffer[0] = 0;
 1994  1              object58DataBuffer[1] = 0;
 1995  1              object58DataBuffer[2] = 0;
 1996  1              object58DataBuffer[3] = 0;
 1997  1              object58DataBuffer[4] = 0;
 1998  1              object58DataBuffer[5] = 0;
 1999  1              object58DataBuffer[6] = 0;
 2000  1              object58DataBuffer[7] = 0;
 2001  1      
 2002  1              if (TRUE == descApplFrameTxEnable)
 2003  1              {
 2004  2                      CanSendMsg_v_g(58, &object58DataBuffer[0]);
 2005  2              }
 2006  1      }
 2007         
 2008         /*****************************************************************************************
 2009         *  Name        : Can1Com_Object59_MsgSend
 2010         *  Description : none
 2011         *  Parameter   : none
 2012         *  Returns     : none 
 2013         *****************************************************************************************/
 2014         void Can1Com_Object59_MsgSend(void)
 2015         {
 2016  1              INT8U object59DataBuffer[8] = {0};
 2017  1              
 2018  1              object59DataBuffer[0] = 0;
 2019  1              object59DataBuffer[1] = 0;
 2020  1              object59DataBuffer[2] = 0;
 2021  1              object59DataBuffer[3] = 0;
 2022  1              object59DataBuffer[4] = 0;
 2023  1              object59DataBuffer[5] = 0;
 2024  1              object59DataBuffer[6] = 0;
 2025  1              object59DataBuffer[7] = 0;
 2026  1      
 2027  1              if (TRUE == descApplFrameTxEnable)
 2028  1              {
 2029  2                      CanSendMsg_v_g(59, &object59DataBuffer[0]);
 2030  2              }
 2031  1      }
 2032         
 2033         /*****************************************************************************************
 2034         *  Name        : Can1Com_Object60_MsgSend
 2035         *  Description : none
 2036         *  Parameter   : none
 2037         *  Returns     : none 
 2038         *****************************************************************************************/
 2039         void Can1Com_Object60_MsgSend(void)
 2040         {
 2041  1              INT8U object60DataBuffer[8] = {0};
 2042  1              
 2043  1              object60DataBuffer[0] = 0;
 2044  1              object60DataBuffer[1] = 0;
 2045  1              object60DataBuffer[2] = 0;
 2046  1              object60DataBuffer[3] = 0;
 2047  1              object60DataBuffer[4] = 0;
 2048  1              object60DataBuffer[5] = 0;
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 35  

 2049  1              object60DataBuffer[6] = 0;
 2050  1              object60DataBuffer[7] = 0;
 2051  1      
 2052  1              if (TRUE == descApplFrameTxEnable)
 2053  1              {
 2054  2                      CanSendMsg_v_g(60, &object60DataBuffer[0]);
 2055  2              }
 2056  1      }
 2057         
 2058         /*****************************************************************************************
 2059         *  Name        : Can1Com_Object61_MsgSend
 2060         *  Description : none
 2061         *  Parameter   : none
 2062         *  Returns     : none 
 2063         *****************************************************************************************/
 2064         void Can1Com_Object61_MsgSend(void)
 2065         {
 2066  1              INT8U object61DataBuffer[8] = {0};
 2067  1              
 2068  1              object61DataBuffer[0] = 0;
 2069  1              object61DataBuffer[1] = 0;
 2070  1              object61DataBuffer[2] = 0;
 2071  1              object61DataBuffer[3] = 0;
 2072  1              object61DataBuffer[4] = 0;
 2073  1              object61DataBuffer[5] = 0;
 2074  1              object61DataBuffer[6] = 0;
 2075  1              object61DataBuffer[7] = 0;
 2076  1      
 2077  1              if (TRUE == descApplFrameTxEnable)
 2078  1              {
 2079  2                      CanSendMsg_v_g(61, &object61DataBuffer[0]);
 2080  2              }
 2081  1      }
 2082         
 2083         /*****************************************************************************************
 2084         *  Name        : Can1Com_Object62_MsgSend
 2085         *  Description : none
 2086         *  Parameter   : none
 2087         *  Returns     : none 
 2088         *****************************************************************************************/
 2089         void Can1Com_Object62_MsgSend(void)
 2090         {
 2091  1              INT8U object62DataBuffer[8] = {0};
 2092  1              
 2093  1              object62DataBuffer[0] = 0;
 2094  1              object62DataBuffer[1] = 0;
 2095  1              object62DataBuffer[2] = 0;
 2096  1              object62DataBuffer[3] = 0;
 2097  1              object62DataBuffer[4] = 0;
 2098  1              object62DataBuffer[5] = 0;
 2099  1              object62DataBuffer[6] = 0;
 2100  1              object62DataBuffer[7] = 0;
 2101  1      
 2102  1              if (TRUE == descApplFrameTxEnable)
 2103  1              {
 2104  2                      CanSendMsg_v_g(62, &object62DataBuffer[0]);
 2105  2              }
 2106  1      }
 2107         
 2108         /*****************************************************************************************
 2109         *  Name        : Can1Com_Object63_MsgSend
 2110         *  Description : none
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 36  

 2111         *  Parameter   : none
 2112         *  Returns     : none 
 2113         *****************************************************************************************/
 2114         void Can1Com_Object63_MsgSend(void)
 2115         {
 2116  1              INT8U object63DataBuffer[8] = {0};
 2117  1              
 2118  1              object63DataBuffer[0] = 0;
 2119  1              object63DataBuffer[1] = 0;
 2120  1              object63DataBuffer[2] = 0;
 2121  1              object63DataBuffer[3] = 0;
 2122  1              object63DataBuffer[4] = 0;
 2123  1              object63DataBuffer[5] = 0;
 2124  1              object63DataBuffer[6] = 0;
 2125  1              object63DataBuffer[7] = 0;
 2126  1      
 2127  1              if (TRUE == descApplFrameTxEnable)
 2128  1              {
 2129  2                      CanSendMsg_v_g(63, &object63DataBuffer[0]);
 2130  2              }
 2131  1      }
 2132         
 2133         /*****************************************************************************************
 2134         *  Name        : CanCom_CcpMsgInd
 2135         *  Description : receive ccp message indication  
 2136         *  Parameter   : none
 2137         *  Returns     : none 
 2138         *****************************************************************************************/
 2139         void CanCom_CcpMsgInd(CanReceiveHandle* rcvObject)
 2140         {                       
 2141  1              ccploop_v_g(rcvObject);
 2142  1      }
 2143         
 2144         
 2145         
 2146         
 2147         
 2148         /*****************************************************************************************
 2149         *  Name        : CanCom_ApplCan0MsgResetTimeoutCnt
 2150         *  Description : none  
 2151         *  Parameter   : none
 2152         *  Returns     : none 
 2153         *****************************************************************************************/
 2154         void CanCom_ApplCan0MsgResetTimeoutCnt(CanObjInd index)
 2155         {
 2156  1              g_Can0SvcInst[index].msgRecvCnt = kCanRecvMesgTimeoutCycleNum;
 2157  1      }
 2158         
 2159         /*****************************************************************************************
 2160         *  Name        : CanCom_ApplCan1MsgResetTimeoutCnt
 2161         *  Description : none  
 2162         *  Parameter   : none
 2163         *  Returns     : none 
 2164         *****************************************************************************************/
 2165         void CanCom_ApplCan1MsgResetTimeoutCnt(CanObjInd index)
 2166         {
 2167  1              g_Can1SvcInst[index].msgRecvCnt = kCanRecvMesgTimeoutCycleNum;
 2168  1      }
 2169         
 2170         
 2171         /*****************************************************************************************
 2172         *  Name        : Can0RecDeal_v_g
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 37  

 2173         *  Description : none
 2174         *  Parameter   : none
 2175         *  Returns     : none 
 2176         *****************************************************************************************/
 2177         static void Can0RecDeal_v_g(void)
 2178         {
 2179  1              INT8U i;
 2180  1      
 2181  1              if (0u == (uCanComTaskCount % 2u)) // 10ms cycle
 2182  1              {
 2183  2                      for (i=0u; i<kCan0SvcInstNumItems; i++)
 2184  2                      {
 2185  3                              if (10u == g_Can0SvcInst[i].msgCycle)
 2186  3                              {
 2187  4                                      if (g_Can0SvcInst[i].msgRecvCnt > 0u)
 2188  4                                      {
 2189  5                                              g_Can0SvcInst[i].msgRecvCnt--;
 2190  5                                      }
 2191  4                                      else
 2192  4                                      {
 2193  5                                              if(NULL != g_Can0SvcInst[i].timeoutHandler)
 2194  5                                              {
 2195  6                                                      g_Can0SvcInst[i].timeoutHandler();
 2196  6                                              }
 2197  5                                      }
 2198  4                              }
 2199  3                      }
 2200  2              }
 2201  1      
 2202  1              if (0u == (uCanComTaskCount % 4u)) // 20ms cycle
 2203  1              {
 2204  2                      for (i=0u; i<kCan0SvcInstNumItems; i++)
 2205  2                      {
 2206  3                              if (20u == g_Can0SvcInst[i].msgCycle)
 2207  3                              {
 2208  4                                      if (g_Can0SvcInst[i].msgRecvCnt > 0u)
 2209  4                                      {
 2210  5                                              g_Can0SvcInst[i].msgRecvCnt--;
 2211  5                                      }
 2212  4                                      else
 2213  4                                      {
 2214  5                                              if(NULL != g_Can0SvcInst[i].timeoutHandler)
 2215  5                                              {
 2216  6                                                      g_Can0SvcInst[i].timeoutHandler();
 2217  6                                              }
 2218  5                                      }
 2219  4                              }
 2220  3                      }               
 2221  2              }
 2222  1      
 2223  1              if (0u == (uCanComTaskCount % 10u)) // 50ms cycle
 2224  1              {
 2225  2                      for (i=0u; i<kCan0SvcInstNumItems; i++)
 2226  2                      {
 2227  3                              if (50u == g_Can0SvcInst[i].msgCycle)
 2228  3                              {
 2229  4                                      if (g_Can0SvcInst[i].msgRecvCnt > 0u)
 2230  4                                      {
 2231  5                                              g_Can0SvcInst[i].msgRecvCnt--;
 2232  5                                      }
 2233  4                                      else
 2234  4                                      {
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 38  

 2235  5                                              if(NULL != g_Can0SvcInst[i].timeoutHandler)
 2236  5                                              {
 2237  6                                                      g_Can0SvcInst[i].timeoutHandler();
 2238  6                                              }
 2239  5                                      }
 2240  4                              }
 2241  3                      }               
 2242  2              }
 2243  1      
 2244  1              if (0u == (uCanComTaskCount % 20u)) // 100ms cycle
 2245  1              {
 2246  2                      for (i=0u; i<kCan0SvcInstNumItems; i++)
 2247  2                      {
 2248  3                              if (100u == g_Can0SvcInst[i].msgCycle)
 2249  3                              {
 2250  4                                      if (g_Can0SvcInst[i].msgRecvCnt > 0u)
 2251  4                                      {
 2252  5                                              g_Can0SvcInst[i].msgRecvCnt--;
 2253  5                                      }
 2254  4                                      else
 2255  4                                      {
 2256  5                                              if(NULL != g_Can0SvcInst[i].timeoutHandler)
 2257  5                                              {
 2258  6                                                      g_Can0SvcInst[i].timeoutHandler();
 2259  6                                              }
 2260  5                                      }
 2261  4                              }
 2262  3                      }               
 2263  2              }       
 2264  1      
 2265  1              if (0u == (uCanComTaskCount % 200u)) // 1000ms cycle
 2266  1              {
 2267  2                      for (i=0u; i<kCan0SvcInstNumItems; i++)
 2268  2                      {
 2269  3                              if (1000u == g_Can0SvcInst[i].msgCycle)
 2270  3                              {
 2271  4                                      if (g_Can0SvcInst[i].msgRecvCnt > 0u)
 2272  4                                      {
 2273  5                                              g_Can0SvcInst[i].msgRecvCnt--;
 2274  5                                      }
 2275  4                                      else
 2276  4                                      {
 2277  5                                              if(NULL != g_Can0SvcInst[i].timeoutHandler)
 2278  5                                              {
 2279  6                                                      g_Can0SvcInst[i].timeoutHandler();
 2280  6                                              }
 2281  5                                      }
 2282  4                              }
 2283  3                      }               
 2284  2              }
 2285  1      }
 2286         
 2287         /*****************************************************************************************
 2288         *  Name        : Can1RecDeal_v_g
 2289         *  Description : none
 2290         *  Parameter   : none
 2291         *  Returns     : none 
 2292         *****************************************************************************************/
 2293         static void Can1RecDeal_v_g(void)
 2294         {
 2295  1              INT8U i;
 2296  1      
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 39  

 2297  1              if (0u == (uCanComTaskCount % 2u)) // 10ms cycle
 2298  1              {
 2299  2                      for (i=0u; i<kCan1SvcInstNumItems; i++)
 2300  2                      {
 2301  3                              if (10u == g_Can1SvcInst[i].msgCycle)
 2302  3                              {
 2303  4                                      if (g_Can1SvcInst[i].msgRecvCnt > 0u)
 2304  4                                      {
 2305  5                                              g_Can1SvcInst[i].msgRecvCnt--;
 2306  5                                      }
 2307  4                                      else
 2308  4                                      {
 2309  5                                              if(NULL != g_Can1SvcInst[i].timeoutHandler)
 2310  5                                              {
 2311  6                                                      g_Can1SvcInst[i].timeoutHandler();
 2312  6                                              }
 2313  5                                      }
 2314  4                              }
 2315  3                      }
 2316  2              }
 2317  1      
 2318  1              if (0u == (uCanComTaskCount % 4u)) // 20ms cycle
 2319  1              {
 2320  2                      for (i=0u; i<kCan1SvcInstNumItems; i++)
 2321  2                      {
 2322  3                              if (20u == g_Can1SvcInst[i].msgCycle)
 2323  3                              {
 2324  4                                      if (g_Can1SvcInst[i].msgRecvCnt > 0u)
 2325  4                                      {
 2326  5                                              g_Can1SvcInst[i].msgRecvCnt--;
 2327  5                                      }
 2328  4                                      else
 2329  4                                      {
 2330  5                                              if(NULL != g_Can1SvcInst[i].timeoutHandler)
 2331  5                                              {
 2332  6                                                      g_Can1SvcInst[i].timeoutHandler();
 2333  6                                              }
 2334  5                                      }
 2335  4                              }
 2336  3                      }               
 2337  2              }
 2338  1      
 2339  1              if (0u == (uCanComTaskCount % 10u)) // 50ms cycle
 2340  1              {
 2341  2                      for (i=0u; i<kCan1SvcInstNumItems; i++)
 2342  2                      {
 2343  3                              if (50u == g_Can1SvcInst[i].msgCycle)
 2344  3                              {
 2345  4                                      if (g_Can1SvcInst[i].msgRecvCnt > 0u)
 2346  4                                      {
 2347  5                                              g_Can1SvcInst[i].msgRecvCnt--;
 2348  5                                      }
 2349  4                                      else
 2350  4                                      {
 2351  5                                              if(NULL != g_Can1SvcInst[i].timeoutHandler)
 2352  5                                              {
 2353  6                                                      g_Can1SvcInst[i].timeoutHandler();
 2354  6                                              }
 2355  5                                      }
 2356  4                              }
 2357  3                      }               
 2358  2              }
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 40  

 2359  1      
 2360  1              if (0u == (uCanComTaskCount % 20u)) // 100ms cycle
 2361  1              {
 2362  2                      for (i=0u; i<kCan1SvcInstNumItems; i++)
 2363  2                      {
 2364  3                              if (100u == g_Can1SvcInst[i].msgCycle)
 2365  3                              {
 2366  4                                      if (g_Can1SvcInst[i].msgRecvCnt > 0u)
 2367  4                                      {
 2368  5                                              g_Can1SvcInst[i].msgRecvCnt--;
 2369  5                                      }
 2370  4                                      else
 2371  4                                      {
 2372  5                                              if(NULL != g_Can1SvcInst[i].timeoutHandler)
 2373  5                                              {
 2374  6                                                      g_Can1SvcInst[i].timeoutHandler();
 2375  6                                              }
 2376  5                                      }
 2377  4                              }
 2378  3                      }               
 2379  2              }       
 2380  1      
 2381  1              if (0u == (uCanComTaskCount % 200u)) // 1000ms cycle
 2382  1              {
 2383  2                      for (i=0u; i<kCan1SvcInstNumItems; i++)
 2384  2                      {
 2385  3                              if (1000u == g_Can1SvcInst[i].msgCycle)
 2386  3                              {
 2387  4                                      if (g_Can1SvcInst[i].msgRecvCnt > 0u)
 2388  4                                      {
 2389  5                                              g_Can1SvcInst[i].msgRecvCnt--;
 2390  5                                      }
 2391  4                                      else
 2392  4                                      {
 2393  5                                              if(NULL != g_Can1SvcInst[i].timeoutHandler)
 2394  5                                              {
 2395  6                                                      g_Can1SvcInst[i].timeoutHandler();
 2396  6                                              }
 2397  5                                      }
 2398  4                              }
 2399  3                      }               
 2400  2              }
 2401  1      }
 2402         
 2403         
 2404         /*****************************************************************************************
 2405         *  Name        : CanCom_ApplCan0SvcInstAccess
 2406         *  Description : none  
 2407         *  Parameter   : none
 2408         *  Returns     : none 
 2409         *****************************************************************************************/
 2410         const CanSvcInst* CanCom_ApplCan0SvcInstAccess(void)
 2411         {
 2412  1              return (CanSvcInst*)(&g_Can0SvcInst); 
 2413  1      }
 2414         
 2415         /*****************************************************************************************
 2416         *  Name        : CanCom_ApplCan0SendInstAccess
 2417         *  Description : none  
 2418         *  Parameter   : none
 2419         *  Returns     : none 
 2420         *****************************************************************************************/
C166 COMPILER V7.57.0, CAN_COM                                                             01/20/2021 09:50:54 PAGE 41  

 2421         const CanSendInst* CanCom_ApplCan0SendInstAccess(void)
 2422         {
 2423  1              return (CanSendInst*)(&g_Can0SendInst); 
 2424  1      }
 2425         
 2426         /*****************************************************************************************
 2427         *  Name        : CanCom_ApplCan1SvcInstAccess
 2428         *  Description : none  
 2429         *  Parameter   : none
 2430         *  Returns     : none 
 2431         *****************************************************************************************/
 2432         const CanSvcInst* CanCom_ApplCan1SvcInstAccess(void)
 2433         {
 2434  1              return (CanSvcInst*)(&g_Can1SvcInst); 
 2435  1      }
 2436         
 2437         /*****************************************************************************************
 2438         *  Name        : CanCom_ApplCan0SendInstAccess
 2439         *  Description : none  
 2440         *  Parameter   : none
 2441         *  Returns     : none 
 2442         *****************************************************************************************/
 2443         const CanSendInst* CanCom_ApplCan1SendInstAccess(void)
 2444         {
 2445  1              return (CanSendInst*)(&g_Can1SendInst); 
 2446  1      }
 2447         
 2448         /*****************************************************************************************
 2449         *  Name        : CanCom_ApplCanComDataAccess
 2450         *  Description : none  
 2451         *  Parameter   : none
 2452         *  Returns     : none 
 2453         *****************************************************************************************/
 2454         const T_CAN_COM* CanCom_ApplCanComDataAccess(void)
 2455         {       
 2456  1              return (&t_CanComData);
 2457  1      }
 2458         
 2459         
 2460         /* _END_OF_CAN_COM_ */
 2461         


MODULE INFORMATION:   INITIALIZED  UNINITIALIZED
  CODE SIZE        =        9902     --------
  NEAR-CONST SIZE  =    --------     --------
  FAR-CONST SIZE   =         256     --------
  HUGE-CONST SIZE  =    --------     --------
  XHUGE-CONST SIZE =    --------     --------
  NEAR-DATA SIZE   =          20     --------
  FAR-DATA SIZE    =        1232     --------
  XHUGE-DATA SIZE  =    --------     --------
  IDATA-DATA SIZE  =    --------     --------
  SDATA-DATA SIZE  =    --------     --------
  BDATA-DATA SIZE  =    --------     --------
  HUGE-DATA SIZE   =    --------     --------
  BIT SIZE         =    --------     --------
  INIT'L SIZE      =        1272     --------
END OF MODULE INFORMATION.


C166 COMPILATION COMPLETE.  29 WARNING(S),  0 ERROR(S)
