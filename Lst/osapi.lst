C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 1   


C166 COMPILER V7.57.0, COMPILATION OF MODULE OSAPI
OBJECT MODULE PLACED IN .\Obj\osapi.obj
COMPILER INVOKED BY: C:\Keil_v5\C166\BIN\C166.EXE src\app\rtos\osapi.c MODV2 LARGE BROWSE INCDIR(.\src;.\src\bsw;.\src\d
                    -river;.\src\interaction;.\src\app\adc;.\src\app\alogrithm;.\src\app\can;.\src\app\ccp;.\src\app\diagnostic;.\src\app\mod
                    -e control;.\src\app\task;.\src\app\Fun;.\src\app\rtos;.\src\bsw\can;.\src\bsw\desc;.\src\bsw\nm;.\src\app\time measure;.
                    -\src\app\rte) MODV2 DEBUG PRINT(.\Lst\osapi.lst) OBJECT(.\Obj\osapi.obj) 

 stmt lvl     source

    1         //****************************************************************************
    2         // @Module        Project Settings
    3         // @Filename      OSAPI.c
    4         // @Project       P300.dav
    5         //----------------------------------------------------------------------------
    6         // @Controller    Infineon XC2365B-40F80
    7         //
    8         // @Compiler      Keil
    9         //
   10         // @Codegenerator 2.0
   11         //
   12         // @Description   This file contains the project initialization function.
   13         //
   14         //----------------------------------------------------------------------------
   15         // @Date          2020-03-04 15:47:42
   16         //
   17         //****************************************************************************
   18         
   19         // USER CODE BEGIN (MAIN_General,1)
   20         
   21         // USER CODE END
   22         
   23         
   24         
   25         //****************************************************************************
   26         // @Project Includes
   27         //****************************************************************************
   28         
   29         // USER CODE BEGIN (MAIN_General,2)
   30         
   31         #include "RTC.h"
   32         #include "OSAPI.h"
   33         
   34         #include "nm.h"
   35         #include "can_com.h"
   36         #include "desc.h"
   37         #include "desc_ser.h"
   38         #include "desc_mgr.h"
   39         #include "booster.h"
   40         #include "eepRom.h"
   41         #include "adc_if.h"
   42         #include "adc_sample.h"
   43         #include "fltd.h"
   44         #include "pwm.h"
   45         #include "pid.h"
   46         #include "rte.h"
   47         #include "time_measure.h"
   48         #include "wire_control.h"
   49         #include "ModeControl.h"
   50         #include "ModeControl_private.h"
   51         
   52         // USER CODE END
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 2   

   53         
   54         
   55         //****************************************************************************
   56         // @Macros
   57         //****************************************************************************
   58         
   59         // USER CODE BEGIN (MAIN_General,3)
   60         
   61         // USER CODE END
   62         
   63         
   64         //****************************************************************************
   65         // @Defines
   66         //****************************************************************************
   67         
   68         // USER CODE BEGIN (MAIN_General,4)
   69         
   70         // USER CODE END
   71         
   72         
   73         //****************************************************************************
   74         // @Typedefs
   75         //****************************************************************************
   76         
   77         // USER CODE BEGIN (MAIN_General,5)
   78         
   79         // USER CODE END
   80         
   81         
   82         //****************************************************************************
   83         // @Imported Global Variables
   84         //****************************************************************************
   85         
   86         // USER CODE BEGIN (MAIN_General,6)
   87         
   88         extern void task1(void);
   89         extern void task2(void);
   90         extern void task3(void);
   91         extern void task4(void);
   92         
   93         // USER CODE END
   94         
   95         
   96         //****************************************************************************
   97         // @Global Variables
   98         //****************************************************************************
   99         
  100         // USER CODE BEGIN (MAIN_General,7)
  101         
  102         // USER CODE END
  103         
  104         
  105         //****************************************************************************
  106         // @External Prototypes
  107         //****************************************************************************
  108         
  109         // USER CODE BEGIN (MAIN_General,8)
  110         
  111         // USER CODE END
  112         
  113         
  114         //****************************************************************************
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 3   

  115         // @Prototypes Of Local Functions
  116         //****************************************************************************
  117         
  118         // USER CODE BEGIN (MAIN_General,9)
  119         
  120         OS_API_STAT void OSAPI_App3msTaskEntry(void);
  121         OS_API_STAT void OSAPI_App5msTaskEntry(void);
  122         OS_API_STAT void OSAPI_App10msTaskEntry(void);
  123         OS_API_STAT void OSAPI_App20msTaskEntry(void);
  124         OS_API_STAT void OSAPI_App50msTaskEntry(void);
  125         OS_API_STAT void OSAPI_App100msTaskEntry(void);
  126         
  127         // USER CODE END
  128         
  129         //****************************************************************************
  130         // @Function      void OSAPI_AppTaskInit(void)
  131         //
  132         //----------------------------------------------------------------------------
  133         // @Description   None
  134         //
  135         //----------------------------------------------------------------------------
  136         // @Returnvalue   None
  137         //
  138         //----------------------------------------------------------------------------
  139         // @Parameters    None 
  140         //
  141         //----------------------------------------------------------------------------
  142         // @Date          2020-03-04
  143         //
  144         //****************************************************************************
  145         
  146         // USER CODE BEGIN (OSAPI_AppTaskInit,1)
  147         
  148         // USER CODE END
  149         
  150         void OSAPI_AppTaskInit(void)
  151         {
  152  1              //AebInit();
  153  1              
  154  1              EepRom_Init(EEPROM_START);
  155  1              Rte_Init();
  156  1              Booster_Init();
  157  1              WireControl_Init();
  158  1              AdcIf_Init();
  159  1              AdcApp_Init();
  160  1              FLTD_Init();
  161  1              Pwm_Init();
  162  1              Pid_Init();
  163  1      
  164  1              CanNm_vInit(); 
  165  1              CanDesc_vInit();
  166  1              CanDescDtc_vInit();     
  167  1              TimeMeasure_Init();
  168  1      
  169  1      } //  End of function
  170         
  171         //****************************************************************************
  172         // @Function      void OSAPI_AppTaskRunning(void)
  173         //
  174         //----------------------------------------------------------------------------
  175         // @Description   None
  176         //
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 4   

  177         //----------------------------------------------------------------------------
  178         // @Returnvalue   None
  179         //
  180         //----------------------------------------------------------------------------
  181         // @Parameters    None 
  182         //
  183         //----------------------------------------------------------------------------
  184         // @Date          2020-03-04
  185         //
  186         //****************************************************************************
  187         
  188         // USER CODE BEGIN (OSAPI_Running,1)
  189         
  190         // USER CODE END
  191         
  192         void OSAPI_AppTaskRunning(void)
  193         {
  194  1      
  195  1        // USER CODE BEGIN (OSAPI_Running,2)
  196  1      
  197  1              if (TRUE == bRtcOsApp2msTaskEntryFlag)          
  198  1              {
  199  2                      bRtcOsApp2msTaskEntryFlag = FALSE;
  200  2              }
  201  1              
  202  1              if (TRUE == bRtcOsApp3msTaskEntryFlag)          
  203  1              {
  204  2                      TimeMeasure_Start(0);
  205  2                      OSAPI_App3msTaskEntry();
  206  2                      bRtcOsApp3msTaskEntryFlag = FALSE;
  207  2                      TimeMeasure_End(0);
  208  2              }
  209  1              
  210  1              if (TRUE == bRtcOsApp5msTaskEntryFlag)          
  211  1              {
  212  2                      TimeMeasure_Start(1);
  213  2                      OSAPI_App5msTaskEntry();
  214  2                      bRtcOsApp5msTaskEntryFlag = FALSE;
  215  2                      TimeMeasure_End(1);
  216  2              }
  217  1      
  218  1              if (TRUE == bRtcOsApp10msTaskEntryFlag)         
  219  1              {
  220  2                      TimeMeasure_Start(2);
  221  2                      OSAPI_App10msTaskEntry();
  222  2                      bRtcOsApp10msTaskEntryFlag = FALSE;
  223  2                      TimeMeasure_End(2);
  224  2              }       
  225  1      
  226  1              if (TRUE == bRtcOsApp20msTaskEntryFlag)                 
  227  1              {
  228  2                      OSAPI_App20msTaskEntry();
  229  2                      bRtcOsApp20msTaskEntryFlag = FALSE;
  230  2              }       
  231  1      
  232  1              if (TRUE == bRtcOsApp50msTaskEntryFlag)                 
  233  1              {
  234  2                      OSAPI_App50msTaskEntry();
  235  2                      bRtcOsApp50msTaskEntryFlag = FALSE;
  236  2              }       
  237  1      
  238  1              if (TRUE == bRtcOsApp100msTaskEntryFlag)                        
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 5   

  239  1              {
  240  2                      OSAPI_App100msTaskEntry();
  241  2                      bRtcOsApp100msTaskEntryFlag = FALSE;
  242  2              }  
  243  1              
  244  1        // USER CODE END
  245  1      
  246  1      } //  End of function
  247         
  248         
  249         //****************************************************************************
  250         // @Function      void OSAPI_App3msTaskEntry(void)
  251         //
  252         //----------------------------------------------------------------------------
  253         // @Description   None
  254         //
  255         //----------------------------------------------------------------------------
  256         // @Returnvalue   None
  257         //
  258         //----------------------------------------------------------------------------
  259         // @Parameters    None 
  260         //
  261         //----------------------------------------------------------------------------
  262         // @Date          2020-03-04
  263         //
  264         //****************************************************************************
  265         
  266         // USER CODE BEGIN (OSAPI_Running,1)
  267         
  268         // USER CODE END
  269         
  270         OS_API_STAT void OSAPI_App3msTaskEntry(void)
  271         {
  272  1      
  273  1        // USER CODE BEGIN (OSAPI_Running,2)
  274  1              AdcIf_Func();
  275  1              ApplAdc_TaskEntry();    
  276  1              task1();
  277  1      
  278  1        // USER CODE END
  279  1      
  280  1      } //  End of function
  281         
  282         
  283         //****************************************************************************
  284         // @Function      void OSAPI_App5msTaskEntry(void)
  285         //
  286         //----------------------------------------------------------------------------
  287         // @Description   None
  288         //
  289         //----------------------------------------------------------------------------
  290         // @Returnvalue   None
  291         //
  292         //----------------------------------------------------------------------------
  293         // @Parameters    None 
  294         //
  295         //----------------------------------------------------------------------------
  296         // @Date          2020-03-04
  297         //
  298         //****************************************************************************
  299         
  300         // USER CODE BEGIN (OSAPI_Running,1)
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 6   

  301         
  302         // USER CODE END
  303         
  304         OS_API_STAT void OSAPI_App5msTaskEntry(void)
  305         {
  306  1      
  307  1        // USER CODE BEGIN (OSAPI_Running,2)
  308  1      
  309  1              Rte_ReadSignalSts();
  310  1              IGNStatus_u8_Sig = Rte_IGNStatusHandle();
  311  1              ModeControl_step();
  312  1              CanCom_TaskEntry();
  313  1              CanDesc_TaskEntry();
  314  1              task3();
  315  1      
  316  1        // USER CODE END
  317  1      
  318  1      } //  End of function
  319         
  320         //****************************************************************************
  321         // @Function      void OSAPI_App10msTaskEntry(void)
  322         //
  323         //----------------------------------------------------------------------------
  324         // @Description   None
  325         //
  326         //----------------------------------------------------------------------------
  327         // @Returnvalue   None
  328         //
  329         //----------------------------------------------------------------------------
  330         // @Parameters    None 
  331         //
  332         //----------------------------------------------------------------------------
  333         // @Date          2020-03-04
  334         //
  335         //****************************************************************************
  336         
  337         // USER CODE BEGIN (OSAPI_Running,1)
  338         
  339         // USER CODE END
  340         
  341         OS_API_STAT void OSAPI_App10msTaskEntry(void)
  342         {
  343  1      
  344  1        // USER CODE BEGIN (OSAPI_Running,2)
  345  1              //CanDesc_TaskEntry();
  346  1              CanNm_TaskEntry();
  347  1              CanDescDtc_TaskEntry();
  348  1              
  349  1              task2(); 
  350  1              
  351  1        // USER CODE END
  352  1      
  353  1      } //  End of function
  354         
  355         
  356         //****************************************************************************
  357         // @Function      void OSAPI_App20msTaskEntry(void)
  358         //
  359         //----------------------------------------------------------------------------
  360         // @Description   None
  361         //
  362         //----------------------------------------------------------------------------
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 7   

  363         // @Returnvalue   None
  364         //
  365         //----------------------------------------------------------------------------
  366         // @Parameters    None 
  367         //
  368         //----------------------------------------------------------------------------
  369         // @Date          2020-03-04
  370         //
  371         //****************************************************************************
  372         
  373         // USER CODE BEGIN (OSAPI_Running,1)
  374         
  375         // USER CODE END
  376         
  377         OS_API_STAT void OSAPI_App20msTaskEntry(void)
  378         {
  379  1      
  380  1        // USER CODE BEGIN (OSAPI_Running,2)
  381  1      
  382  1              
  383  1        // USER CODE END
  384  1      
  385  1      } //  End of function
  386         
  387         //****************************************************************************
  388         // @Function      void OSAPI_App50msTaskEntry(void)
  389         //
  390         //----------------------------------------------------------------------------
  391         // @Description   None
  392         //
  393         //----------------------------------------------------------------------------
  394         // @Returnvalue   None
  395         //
  396         //----------------------------------------------------------------------------
  397         // @Parameters    None 
  398         //
  399         //----------------------------------------------------------------------------
  400         // @Date          2020-03-04
  401         //
  402         //****************************************************************************
  403         
  404         // USER CODE BEGIN (OSAPI_Running,1)
  405         
  406         // USER CODE END
  407         
  408         OS_API_STAT void OSAPI_App50msTaskEntry(void)
  409         {
  410  1      
  411  1        // USER CODE BEGIN (OSAPI_Running,2)
  412  1      
  413  1      
  414  1        task4();
  415  1              
  416  1        // USER CODE END
  417  1      
  418  1      } //  End of function
  419         
  420         //****************************************************************************
  421         // @Function      void OSAPI_App100msTaskEntry(void)
  422         //
  423         //----------------------------------------------------------------------------
  424         // @Description   None
C166 COMPILER V7.57.0, OSAPI                                                               12/25/2020 20:36:07 PAGE 8   

  425         //
  426         //----------------------------------------------------------------------------
  427         // @Returnvalue   None
  428         //
  429         //----------------------------------------------------------------------------
  430         // @Parameters    None 
  431         //
  432         //----------------------------------------------------------------------------
  433         // @Date          2020-03-04
  434         //
  435         //****************************************************************************
  436         
  437         // USER CODE BEGIN (OSAPI_Running,1)
  438         
  439         // USER CODE END
  440         
  441         OS_API_STAT void OSAPI_App100msTaskEntry(void)
  442         {
  443  1      
  444  1        // USER CODE BEGIN (OSAPI_Running,2)
  445  1      
  446  1              
  447  1              
  448  1        // USER CODE END
  449  1      
  450  1      } //  End of function
  451         


MODULE INFORMATION:   INITIALIZED  UNINITIALIZED
  CODE SIZE        =         274     --------
  NEAR-CONST SIZE  =    --------     --------
  FAR-CONST SIZE   =    --------     --------
  HUGE-CONST SIZE  =    --------     --------
  XHUGE-CONST SIZE =    --------     --------
  NEAR-DATA SIZE   =    --------     --------
  FAR-DATA SIZE    =    --------     --------
  XHUGE-DATA SIZE  =    --------     --------
  IDATA-DATA SIZE  =    --------     --------
  SDATA-DATA SIZE  =    --------     --------
  BDATA-DATA SIZE  =    --------     --------
  HUGE-DATA SIZE   =    --------     --------
  BIT SIZE         =    --------     --------
  INIT'L SIZE      =    --------     --------
END OF MODULE INFORMATION.


C166 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
